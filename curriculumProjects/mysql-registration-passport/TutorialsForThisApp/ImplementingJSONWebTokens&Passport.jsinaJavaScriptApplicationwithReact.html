<!DOCTYPE html>
<!-- saved from url=(0110)https://itnext.io/implementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436 -->
<html lang="en" data-rh="lang"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<!-- <script async="" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/branch-latest.min.js.download"></script> -->

<!-- <script async="" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/analytics.js.download"></script> -->

<!-- <script>!function(c,f){var t,o,i,e=[],r={passive:!0,capture:!0},n=new Date,a="pointerup",u="pointercancel";function p(n,e){t||(t=e,o=n,i=new Date,w(f),s())}function s(){0<=o&&o<i-n&&(e.forEach(function(n){n(o,t)}),e=[])}function l(n){if(n.cancelable){var e=(1e12<n.timeStamp?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,e){function t(){p(n,e),i()}function o(){i()}function i(){f(a,t,r),f(u,o,r)}c(a,t,r),c(u,o,r)}(e,n):p(e,n)}}function w(e){["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(n){e(n,l,r)})}w(c),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(n){e.push(n),s()}}(addEventListener,removeEventListener)</script> -->

<title>Implementing JSON Web Tokens &amp; Passport.js in a JavaScript Application with React</title><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta data-rh="true" name="theme-color" content="#000000"><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"><meta data-rh="true" property="al:ios:app_name" content="Medium"><meta data-rh="true" property="al:ios:app_store_id" content="828256236"><meta data-rh="true" property="al:android:package" content="com.medium.reader"><meta data-rh="true" property="fb:app_id" content="542599432471018"><meta data-rh="true" property="og:site_name" content="Medium"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2018-10-13T22:07:17.408Z"><meta data-rh="true" name="title" content="Implementing JSON Web Tokens &amp; Passport.js in a JavaScript Application with React"><meta data-rh="true" property="og:title" content="Implementing JSON Web Tokens &amp; Passport.js in a JavaScript Application with React"><meta data-rh="true" property="twitter:title" content="Implementing JSON Web Tokens &amp; Passport.js in a JavaScript Application with React"><meta data-rh="true" name="twitter:site" content="@itnext_io"><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/b86b1f313436"><meta data-rh="true" property="al:android:url" content="medium://p/b86b1f313436"><meta data-rh="true" property="al:ios:url" content="medium://p/b86b1f313436"><meta data-rh="true" name="apple-itunes-app" content="app-id=828256236,app-argument=medium://p/b86b1f313436"><meta data-rh="true" property="al:android:app_name" content="Medium"><meta data-rh="true" name="description" content="Before you say it, I know, I know. There’s already a literal ton of MERN tutorials out there showing how to use JWT (JSON Web Tokens) and Passport.js with Express. I don’t know what your experience…"><meta data-rh="true" property="og:description" content="Before you say it, I know, I know. There’s already a literal ton of MERN tutorials out there showing how to use JWT (JSON Web Tokens) and…"><meta data-rh="true" property="twitter:description" content="Before you say it, I know, I know. There’s already a literal ton of MERN tutorials out there showing how to use JWT (JSON Web Tokens) and…"><meta data-rh="true" property="og:url" content="https://itnext.io/implementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436"><meta data-rh="true" property="al:web:url" content="https://itnext.io/implementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436"><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/1200/1*V33pOI8o-eADn-GDjPfnOA.png"><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/1200/1*V33pOI8o-eADn-GDjPfnOA.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="article:author" content="/@paigen11"><meta data-rh="true" name="author" content="Paige Niedringhaus"><meta data-rh="true" name="robots" content="index,follow"><meta data-rh="true" name="referrer" content="unsafe-url"><meta data-rh="true" name="twitter:label1" value="Reading time"><meta data-rh="true" name="twitter:data1" value="13 min read"><link data-rh="true" rel="publisher" href="https://plus.google.com/103654360130207659246"><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="https://itnext.io/osd.xml"><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/76/76/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/60/60/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/m2.css"><link data-rh="true" rel="author" href="https://itnext.io/@paigen11"><link data-rh="true" rel="canonical" href="https://itnext.io/implementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436">

<!-- <script data-rh="true">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-24232453-2', 'auto');
ga('send', 'pageview');</script> -->

<style type="text/css" data-fela-rehydration="388" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}</style><style type="text/css" data-fela-rehydration="388" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@-moz-keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}</style><style type="text/css" data-fela-rehydration="388" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.n{display:block}.o{position:fixed}.p{top:0}.q{left:0}.r{right:0}.s{z-index:500}.t{box-shadow:0 4px 12px 0 rgba(0, 0, 0, 0.05)}.u{transition:transform 300ms ease}.v{will-change:transform}.w{padding-left:24px}.x{padding-right:24px}.y{margin-left:auto}.z{margin-right:auto}.ab{height:65px}.ac{width:100%}.ae{max-width:1080px}.af{box-sizing:border-box}.ag{display:flex}.ah{align-items:center}.ak{flex:1 0 auto}.al{margin-left:-6px}.am{fill:rgba(0, 0, 0, 0.84)}.an{flex:0 0 auto}.ao{margin-left:16px}.ap{font-family:medium-content-sans-serif-font, "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Arial, sans-serif}.aq{font-style:normal}.ar{line-height:20px}.as{font-size:15.8px}.at{letter-spacing:0px}.au{color:rgba(0, 0, 0, 0.54)}.av{fill:rgba(0, 0, 0, 0.54)}.aw{color:rgba(61, 121, 173, 1)}.ax{fill:rgba(63, 141, 206, 1)}.ay{font-size:inherit}.az{border:inherit}.ba{font-family:inherit}.bb{letter-spacing:inherit}.bc{font-weight:inherit}.bd{padding:0}.be{margin:0}.bf:hover{cursor:pointer}.bg:hover{color:rgba(59, 110, 156, 1)}.bh:hover{fill:rgba(61, 121, 173, 1)}.bi:focus{outline:none}.bj:disabled{cursor:default}.bk:disabled{color:rgba(3, 168, 124, 0.5)}.bl:disabled{fill:rgba(3, 168, 124, 0.5)}.bm{padding:8px 16px}.bn{background:0}.bo{border-color:rgba(63, 141, 206, 1)}.bp:hover{border-color:rgba(61, 121, 173, 1)}.bq{border-radius:4px}.br{border-width:1px}.bs{border-style:solid}.bt{display:inline-block}.bu{text-decoration:none}.bv{border-top:none}.bw{background-color:rgba(26, 113, 177, 1)}.by{height:54px}.bz{overflow:hidden}.ca{margin-right:40px}.cb{width:192px}.cc{height:36px}.cd{overflow:auto}.ce{flex:0 1 auto}.cf{list-style-type:none}.cg{line-height:40px}.ch{white-space:nowrap}.ci{overflow-x:auto}.cj{align-items:flex-start}.ck{margin-top:20px}.cl{padding-top:20px}.cm{height:80px}.cn{height:20px}.co{margin-right:15px}.cp{margin-left:15px}.cq:first-child{margin-left:0}.cr{min-width:1px}.cs{background-color:rgba(191, 218, 246, 1)}.ct{font-weight:300}.cu{font-size:15px}.cv{line-height:21px}.cw{color:rgba(191, 218, 246, 1)}.cx{text-transform:uppercase}.cy{letter-spacing:1px}.cz{color:inherit}.da{fill:inherit}.db:hover{color:rgba(246, 255, 255, 1)}.dc:hover{fill:rgba(228, 244, 255, 1)}.dd:disabled{color:rgba(142, 183, 224, 1)}.de:disabled{fill:rgba(142, 183, 224, 1)}.df{margin-bottom:0px}.dg{height:119px}.dj{padding-bottom:1px}.dk{margin-top:40px}.dl{max-width:728px}.dm{opacity:0}.dn{pointer-events:none}.do{will-change:opacity}.dp{transition:opacity 200ms}.dq{width:131px}.dr{left:50%}.ds{transform:translateX(-516px)}.dt{top:calc(65px + 54px + 40px)}.du{flex-direction:column}.dv{padding-bottom:28px}.dw{border-bottom:1px solid rgba(0, 0, 0, 0.1)}.dx:hover{color:rgba(0, 0, 0, 0.9)}.dy:hover{fill:rgba(0, 0, 0, 0.9)}.dz:disabled{color:rgba(0, 0, 0, 0.54)}.ea:disabled{fill:rgba(0, 0, 0, 0.54)}.eb{font-weight:600}.ec{font-size:18px}.ed{color:rgba(0, 0, 0, 0.84)}.ee{padding-bottom:20px}.ef{padding-top:2px}.eg{font-size:16px}.eh{max-height:120px}.ei{text-overflow:ellipsis}.ej{display:-webkit-box}.ek{-webkit-line-clamp:6}.el{-webkit-box-orient:vertical}.em{padding:4px 12px}.en{padding-top:28px}.eo{margin-bottom:19px}.ep{margin-left:-5px}.eq{margin-right:5px}.er{position:relative}.es{outline:0}.et{border:0}.eu{user-select:none}.ev{cursor:pointer}.ew> svg{pointer-events:none}.ex:active{border-style:none}.ey:focus{fill:rgba(61, 121, 173, 1)}.ez{margin-top:5px}.fa button{text-align:left}.fb{clear:both}.fc{justify-content:center}.fd{margin-right:8px}.fe{margin-bottom:8px}.ff{border-radius:3px}.fg{padding:5px 10px}.fh{background:rgba(0, 0, 0, 0.05)}.fi{line-height:22px}.fj{justify-content:space-between}.fk{margin-top:15px}.fl{margin-right:16px}.fm{border:1px solid rgba(0, 0, 0, 0.1)}.fn{border-radius:50%}.fo{height:60px}.fp{transition:border-color 150ms ease}.fq{width:60px}.fr::before{background:
      radial-gradient(circle, rgba(61, 121, 173, 1) 60%, transparent 70%)
    }.fs::before{border-radius:50%}.ft::before{content:""}.fu::before{display:block}.fv::before{z-index:0}.fw::before{left:0}.fx::before{height:100%}.fy::before{position:absolute}.fz::before{top:0}.ga::before{width:100%}.gb:hover::before{animation:k1 2000ms infinite cubic-bezier(.1,.12,.25,1)}.gc:active{border-style:solid}.gd{background:rgba(255, 255, 255, 1)}.ge{z-index:2}.gf{height:100%}.gg{position:absolute}.gh{padding-right:8px}.gi{display:none}.gj{margin-top:25px}.gk{margin-bottom:25px}.gl{padding-top:32px}.gm{border-top:solid 1px rgba(0, 0, 0, 0.1)}.gn{margin-bottom:32px}.go{min-height:80px}.gt{width:80px}.gu{padding-left:102px}.gw{letter-spacing:0.05em}.gx{margin-bottom:6px}.gy{font-size:28px}.gz{line-height:36px}.ha{border-color:rgba(0, 0, 0, 0.54)}.hb:hover{color:rgba(0, 0, 0, 0.97)}.hc:hover{fill:rgba(0, 0, 0, 0.97)}.hd:hover{border-color:rgba(0, 0, 0, 0.84)}.he:disabled{fill:rgba(0, 0, 0, 0.76)}.hf:disabled{border-color:rgba(0, 0, 0, 0.2)}.hg:disabled{cursor:inherit}.hh:disabled:hover{color:rgba(0, 0, 0, 0.54)}.hi:disabled:hover{fill:rgba(0, 0, 0, 0.76)}.hj:disabled:hover{border-color:rgba(0, 0, 0, 0.2)}.hk{max-width:555px}.hl{max-width:450px}.hm{line-height:24px}.ho{max-width:550px}.hp{padding-top:25px}.hq{border-top:1px solid rgba(0, 0, 0, 0.1)}.hr{padding:20px}.hs{border:1px solid rgba(63, 141, 206, 1)}.ht{text-align:center}.hu{margin-top:64px}.hv{background-color:rgba(0, 0, 0, 0.02)}.hw{top:calc(100vh + 100px)}.hx{bottom:calc(100vh + 100px)}.hy{width:10px}.hz{word-break:break-word}.ia{word-wrap:break-word}.ib:after{display:block}.ic:after{content:""}.id:after{clear:both}.ie{margin:0 auto}.if{line-height:1.23}.ig{letter-spacing:0}.ih{font-family:medium-content-title-font, Georgia, Cambria, "Times New Roman", Times, serif}.ii{font-size:40px}.io{margin-bottom:-0.27em}.ip{line-height:48px}.iq{margin-top:32px}.ir{height:48px}.is{width:48px}.it{margin-left:12px}.iu{margin-bottom:2px}.iw{max-height:20px}.ix{-webkit-line-clamp:1}.iy:hover{text-decoration:underline}.iz{margin-left:8px}.ja{padding:0px 8px}.jb{line-height:18px}.jh{max-width:1948px}.ji{margin-left:24px}.jj{margin-right:24px}.jk{transition:opacity 100ms 400ms}.jl{transform:translateZ(0)}.jm{margin:auto}.jn{background-color:rgba(0, 0, 0, 0.05)}.jo{padding-bottom:16.324435318275157%}.jp{filter:blur(20px)}.jq{transform:scale(1.1)}.jr{line-height:1.58}.js{letter-spacing:-0.004em}.jt{font-family:medium-content-serif-font, Georgia, Cambria, "Times New Roman", Times, serif}.ke{margin-bottom:-0.46em}.kf{clear:left}.kg{float:left}.kh{font-size:66px}.ki{line-height:.83}.kj{margin-right:12px}.kp{padding-left:30px}.kq{line-height:1.48}.kr{letter-spacing:-0.014em}.ks{color:rgba(0, 0, 0, 0.76)}.kt{font-size:24px}.kz{font-size:30px}.la{padding:2px 4px}.lb{font-size:75%}.lc{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.li{background-repeat:repeat-x}.lj{background-image:linear-gradient(to right,rgba(0, 0, 0, 0.84) 100%,rgba(0, 0, 0, 0.84) 0);background-image:url('data:image/svg+xml;utf8,<svg preserveAspectRatio="none" viewBox="0 0 1 1" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="1" y2="1" stroke="rgba(0, 0, 0, 0.84)" /></svg>')}.lk{background-size:1px 1px}.ll{background-position:0 1.05em;background-position:0 calc(1em + 1px)}.lm{line-height:1.18}.ln{letter-spacing:-0.022em}.ly{margin-bottom:-0.31em}.lz{max-width:788px}.ma{padding-bottom:29.314720812182742%}.mb{box-shadow:inset 3px 0 0 0 rgba(0, 0, 0, 0.84)}.mc{padding-left:23px}.md{margin-left:-20px}.me{font-style:italic}.mf{max-width:200px}.mg{padding-bottom:100%}.mh{max-width:701px}.mi{padding-bottom:38.80171184022824%}.mj{font-weight:700}.mk{margin-top:-0.09em}.ml{margin-bottom:-0.09em}.mm{white-space:pre-wrap}.mn{max-width:1296px}.mo{padding-bottom:118.5185185185185%}.mp{line-height:1.4}.mq{margin-top:10px}.ms{padding-bottom:85.18518518518519%}.mt{max-width:1098px}.mu{padding-bottom:25.136612021857925%}.mv{max-width:1816px}.mw{padding-bottom:223.34801762114535%}.nc{max-width:1248px}.nd{padding-bottom:134.61538461538464%}.ne{max-width:1440px}.nf{padding-bottom:96.66666666666666%}.ng{padding-bottom:76.66666666666669%}.nh{max-width:1274px}.ni{padding-bottom:97.95918367346937%}.nj{list-style-type:disc}.nk{margin-left:30px}.nl{padding-left:0px}.nr{font-family:medium-content-slab-serif-font, Georgia, Cambria, "Times New Roman", Times, serif}.ns{border:none}.nt{margin-top:30px}.nu:before{content:"..."}.nv:before{letter-spacing:0.6em}.nw:before{text-indent:0.6em}.nx:before{font-style:italic}.ny:before{line-height:1.4}</style><style type="text/css" data-fela-rehydration="388" data-fela-type="RULE" media="all and (max-width: 1256px)">.d{display:none}</style><style type="text/css" data-fela-rehydration="388" data-fela-type="RULE" media="all and (max-width: 1080px)">.e{display:none}.mr{text-align:center}</style><style type="text/css" data-fela-rehydration="388" data-fela-type="RULE" media="all and (max-width: 904px)">.f{display:none}</style><style type="text/css" data-fela-rehydration="388" data-fela-type="RULE" media="all and (max-width: 728px)">.g{display:none}.ai{height:56px}.aj{display:flex}.bx{display:block}.dh{margin-bottom:0px}.di{height:110px}.gp{margin-bottom:24px}.gq{align-items:center}.gr{width:102px}.gs{position:relative}.gv{padding-left:0}.hn{margin-top:24px}</style><style type="text/css" data-fela-rehydration="388" data-fela-type="RULE" media="all and (max-width: 552px)">.h{display:none}.iv{margin-bottom:0px}</style><style type="text/css" data-fela-rehydration="388" data-fela-type="RULE" media="all and (min-width: 1080px)">.i{display:none}.in{margin-top:0.78em}.jg{margin-top:56px}.kc{font-size:21px}.kd{margin-top:2em}.ko{padding-top:7px}.ky{margin-top:2.75em}.lh{margin-top:3.14em}.lw{font-size:26px}.lx{margin-top:1.72em}.nb{margin-top:0.86em}.nq{margin-top:1.05em}</style><style type="text/css" data-fela-rehydration="388" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.j{display:none}.im{margin-top:0.78em}.jf{margin-top:56px}.ka{font-size:21px}.kb{margin-top:2em}.kn{padding-top:7px}.kx{margin-top:2.75em}.lg{margin-top:3.14em}.lu{font-size:26px}.lv{margin-top:1.72em}.na{margin-top:0.86em}.np{margin-top:1.05em}</style><style type="text/css" data-fela-rehydration="388" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.k{display:none}.il{margin-top:0.78em}.je{margin-top:56px}.jy{font-size:21px}.jz{margin-top:2em}.km{padding-top:7px}.kw{margin-top:2.75em}.lf{margin-top:3.14em}.ls{font-size:26px}.lt{margin-top:1.72em}.mz{margin-top:0.86em}.no{margin-top:1.05em}</style><style type="text/css" data-fela-rehydration="388" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.l{display:none}.ik{margin-top:0.39em}.jd{margin-top:40px}.jw{font-size:18px}.jx{margin-top:1.56em}.kl{padding-top:0}.kv{margin-top:1.42em}.le{margin-top:2em}.lq{font-size:24px}.lr{margin-top:1.23em}.my{margin-top:0.67em}.nn{margin-top:1.34em}</style><style type="text/css" data-fela-rehydration="388" data-fela-type="RULE" media="all and (max-width: 551.98px)">.m{display:none}.ij{margin-top:0.39em}.jc{margin-top:40px}.ju{font-size:18px}.jv{margin-top:1.56em}.kk{padding-top:0}.ku{margin-top:1.42em}.ld{margin-top:2em}.lo{font-size:24px}.lp{margin-top:1.23em}.mx{margin-top:0.67em}.nm{margin-top:1.34em}</style>
<!--     
    <script charset="utf-8" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/vendors_tracing.db265f32.chunk.js.download"></script>
    
    <script charset="utf-8" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/tracing.48bfc3d4.chunk.js.download"></script>
     -->
    <link rel="icon" href="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_yAqDFIFA5F_NXalOJKz4TA.png" data-rh="true">
<!--     
    <script type="application/ld+json" data-rh="true">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":367,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F459\u002F1*V33pOI8o-eADn-GDjPfnOA.png"},"thumbnailUrl":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F459\u002F1*V33pOI8o-eADn-GDjPfnOA.png","url":"https:\u002F\u002Fitnext.io\u002Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436","dateCreated":"2018-09-12T23:55:19.825Z","datePublished":"2018-09-12T23:55:19.825Z","dateModified":"2018-10-13T22:07:17.823Z","headline":"Implementing JSON Web Tokens & Passport.js in a JavaScript Application with React","name":"Implementing JSON Web Tokens & Passport.js in a JavaScript Application with React","articleId":"b86b1f313436","keywords":["Lite:true","Tag:JavaScript","Tag:Jwt","Tag:Passport","Tag:Web Development","Tag:Security","Publication:itnext","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:0"],"author":{"@type":"Person","name":"Paige Niedringhaus","url":"https:\u002F\u002Fitnext.io\u002F@paigen11"},"creator":["Paige Niedringhaus"],"publisher":{"@type":"Organization","name":"ITNEXT","url":"itnext.io","logo":{"@type":"ImageObject","width":315,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F394\u002F1*brBJMIxU4BNVrxYigrVEkQ.png"}},"mainEntityOfPage":"https:\u002F\u002Fitnext.io\u002Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436"}</script>
    
    <script type="text/javascript" data-rh="true">(function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent".split(" "), 0);
  branch.init('key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm', {'no_journeys': true, 'disable_exit_animation': true, 'disable_entry_animation': true, 'tracking_disabled': null}, function(err, data) {});</script>
   -->
</head>

<body>
  <div id="root"><div class="a b c"><div class="d e f g h i j k l m"></div><nav class="n o p q r c s t u v"><div class="branch-journeys-top"><div class="n c"><section class="w x y z ab ac ae af ag ah ai aj"><div class="ag ah ak s"><div class="al n"><a href="https://medium.com/?source=post_page---------------------------" aria-label="Homepage"><svg width="45" height="45" viewBox="0 0 45 45" class="am"><path d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.69-.32 1.03L10.8 31.4v.4h6.97v-.4L15.3 28.4c-.29-.34-.34-.5-.34-1.03v-8.95l6.13 13.36h.71l5.26-13.36v10.64c0 .3 0 .35-.19.53l-1.85 1.8v.4h9.2v-.4l-1.83-1.8c-.18-.18-.2-.24-.2-.53V15.94c0-.3.02-.35.2-.53l1.82-1.8v-.4h-6.47l-4.62 11.55-5.2-11.54h-6.8v.4l2.15 2.63c.24.3.29.37.29.77v10.35z"></path></svg></a></div></div><div class="n an s"><div class="ag ah"><div class="ag g"><div class="ao n"><span class="ap b aq ar as at n au av"><a href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fitnext.io%2Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436&amp;source=post_page--------------------------nav_reg-" class="aw ax ay az ba bb bc bd be bf bg bh bi bj bk bl">Sign in</a></span></div></div><div class="ao n"><button class="bm bn aw ax bo bg bh bp bf bq ap b aq ar as at br bs af bt bu bi">Get started</button></div></div></div></section></div><div class="bv n bw bx"><section class="w x y z by ac ae af bz ag ah"><div class="ca n an"><a href="https://itnext.io/?source=post_page---------------------------"><div class="cb cc"><img alt="ITNEXT" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_brBJMIxU4BNVrxYigrVEkQ.png" class="" width="192" height="36"></div></a></div><div class="cd n ce"><ul class="cf be cg ch ci ag cj g ck cl cm"><li class="ag ah cn co cp cq"><span class="ap ct cu cv cw cx cy"><a class="cz da ay az ba bb bc bd be bf db dc bi bj dd de" href="https://itnext.io/about-itnext-877f4197e8f6?source=post_page---------------------------">About ITNEXT</a></span></li><li class="ag ah cn co cp cq"><span class="ap ct cu cv cw cx cy"><a class="cz da ay az ba bb bc bd be bf db dc bi bj dd de" href="https://itnext.io/write-for-itnext-4dea1fd3adf?source=post_page---------------------------">Write for ITNEXT</a></span></li><li class="ag ah cn co cp cq"><span class="ap ct cu cv cw cx cy"><a class="cz da ay az ba bb bc bd be bf db dc bi bj dd de" href="https://itnext.io/itnext-meetups-c28cd668e0bc?source=post_page---------------------------">Meetups</a></span></li><li class="ag ah cn co cp cq"><span class="ap ct cu cv cw cx cy"><a class="cz da ay az ba bb bc bd be bf db dc bi bj dd de" href="https://itnext.io/itnextsummit-c21f4fabae34?source=post_page---------------------------">SUMMIT</a></span></li><li class="ag ah cn co cp cq"><span class="ap ct cu cv cw cx cy"><a href="https://itnext.io/itnext-io-featuredthisweek/home?source=post_page---------------------------" class="cz da ay az ba bb bc bd be bf db dc bi bj dd de">Featured </a></span></li><span class="cn cr cs"></span><li class="ag ah cn co cp cq"><span class="ap ct cu cv cw cx cy"><a href="https://careers.linkit.nl/?source=post_page---------------------------" class="cz da ay az ba bb bc bd be bf db dc bi bj dd de">Vacancies @ LINKIT</a></span></li></ul></div></section></div></div></nav><div class="df dg n dh di"></div><article><div class="dj dk n"><section class="w x y z ac dl af n"></section></div><span class="n"></span><div><div class="gg q hw hx hy dn"></div><section class="hz ia ib ic id"><div class="af ie ac dl w x"><div><div id="5424" class="if ig ed aq ih b ii ij ik il im in io"><h1 class="ih b ii ip ed">Implementing JSON Web Tokens &amp; Passport.js in a JavaScript Application with React</h1></div><div class="iq"><div class="ah ag"><div><a href="https://itnext.io/@paigen11?source=post_page---------------------------"><img alt="Paige Niedringhaus" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_2In1UKOCadRTaeRRYNYXKg.jpeg" class="n fn ir is" width="48" height="48"></a></div><div class="it ac n"><div class="ag"><div style="flex:1"><span class="ap b aq ar as at n ed am"><div class="iu ag ah iv" data-test-id="postByline"><span class="ap ct eg ar bz iw ei ej ix el ed"><a href="https://itnext.io/@paigen11?source=post_page---------------------------" class="cz da ay az ba bb bc bd be bf iy bi bj dz ea">Paige Niedringhaus</a></span><div class="iz n an h"><button class="ja ed am bn ha hb hc hd bf dz he hf hg hh hi hj bq ap b aq jb cu at br bs af bt bu bi">Follow</button></div></div></span></div></div><span class="ap b aq ar as at n au av"><span class="ap ct eg ar bz iw ei ej ix el au"><div><a class="cz da ay az ba bb bc bd be bf iy bi bj dz ea" href="https://itnext.io/implementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436?source=post_page---------------------------">Sep 12, 2018</a> <!-- -->·<!-- --> <!-- -->13<!-- --> min read</div></span></span></div></div></div></div></div><div class="af ie ac ae"><figure class="jc jd je jf jg fb jh ji jj paragraph-image"><div class="jm n er jn"><div class="jo n"><div class="dm jk gg p q gf ac bz v jl"><img src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_V33pOI8o-eADn-GDjPfnOA.png" class="gg p q gf ac jp jq" width="1000" height="163"></div><img class="nz oa gg p q gf ac gd" width="1000" height="163" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_V33pOI8o-eADn-GDjPfnOA(1).png"><noscript><img src="https://miro.medium.com/max/2000/1*V33pOI8o-eADn-GDjPfnOA.png" class="gg p q gf ac" width="1000" height="163"/></noscript></div></div></figure></div><div class="af ie ac dl w x"><p id="15f7" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke kf" data-selectable-paragraph=""><span class="n kg kh ki kj kk kl km kn ko er">B</span>efore you say it, I know, I know. There’s already a literal ton of MERN tutorials out there showing how to use JWT (JSON Web Tokens) and Passport.js with Express.</p><p id="37a1" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">But here’s what every one of those tutorials failed to mention, and what mine will cover:</p><blockquote class="kp"><div id="1596" class="kq kr ks aq ih b kt ku kv kw kx ky ke" data-selectable-paragraph=""><p class="ih b kz cg au">HOW and WHY to use the various authentication flavors Passport offers (including <code class="jn la lb lc b">passport-jwt</code>), and the gotchas that tripped me up</p></div></blockquote><p id="53de" class="jr js ed aq jt b ju ld jw le jy lf ka lg kc lh ke" data-selectable-paragraph="">for hours on end as I put together a user registration application.</p><p id="faec" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">I don’t know what your experience has been, but the majority of the projects I’ve worked on professionally have come with authorization already prebuilt by someone else. So in addition to improving my MERN skills, I viewed this as an opportunity to learn more about security and authentication and different ways to do it.</p><p id="00b5" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">This post will mainly cover how to implement of Passport and JWT on the server side, because that’s where most of the magic happens, but if you want, you can see the source files and download the full MERN project <a href="https://github.com/paigen11/mysql-registration-passport?source=post_page---------------------------" class="cz bu li lj lk ll">here</a>. Once it’s correctly hooked up on the backend, the front end is purely React.</p><p id="cb15" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Before I jump into all that though, let me give you a quick run down of JWT and Passport.js authentication.</p><h2 id="e1de" class="lm ln ed aq ap eb lo lp lq lr ls lt lu lv lw lx ly" data-selectable-paragraph="">What is a JSON Web Token?</h2><figure class="jc jd je jf jg fb lz y z paragraph-image"><div class="jm n er jn"><div class="ma n"><div class="dm jk gg p q gf ac bz v jl"><img src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_XkmnsJ6Joa6EDFVGUw0tfA.png" class="gg p q gf ac jp jq" width="700" height="205"></div><img class="nz oa gg p q gf ac gd" width="700" height="205" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_XkmnsJ6Joa6EDFVGUw0tfA(1).png"><noscript><img src="https://miro.medium.com/max/1400/1*XkmnsJ6Joa6EDFVGUw0tfA.png" class="gg p q gf ac" width="700" height="205"/></noscript></div></div></figure><p id="1162" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">A JSON Web Token, according to the site is:</p><blockquote class="mb mc md"><p id="3a4f" class="jr js ed me jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">“…an open standard (<a href="https://tools.ietf.org/html/rfc7519?source=post_page---------------------------" class="cz bu li lj lk ll">RFC 7519</a>) that defines a compact and self-contained way for securely transmitting information between parties as a JSON object.” — JWT.io</p></blockquote><p id="0210" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Essentially, JWTs are digitally signed tokens that can be verified and trusted, and they’re becoming more and more popular for security and authorization between parties (like servers and clients) and for exchanging sensitive information, while verifying the token hasn’t been tampered with or decoded.</p><p id="1427" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">I won’t go into the details of how the tokens work, you can read all about that from a much more qualified source than I <a href="https://jwt.io/introduction/?source=post_page---------------------------" class="cz bu li lj lk ll">here</a>, but suffice it to say, I chose to use JWT as part of my user verification strategy along with Passport.js to make my simple user registration application secure (and because I was curious to see if I could do it, since I didn’t have a whole lot of hands on experience implementing authorization).</p><p id="c678" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">With that covered, the next piece of my authentication solution is Passport.js.</p><h2 id="5b2c" class="lm ln ed aq ap eb lo lp lq lr ls lt lu lv lw lx ly" data-selectable-paragraph="">What is Passport.js &amp; Why Should I Use it?</h2><figure class="jc jd je jf jg fb mf y z paragraph-image"><div class="jm n er jn"><div class="mg n"><div class="dm jk gg p q gf ac bz v jl"><img src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_YI1tt4kGzvea-v4dAhZ90w.png" class="gg p q gf ac jp jq" width="200" height="200"></div><img class="nz oa gg p q gf ac gd" width="200" height="200" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_YI1tt4kGzvea-v4dAhZ90w(1).png"><noscript><img src="https://miro.medium.com/max/400/1*YI1tt4kGzvea-v4dAhZ90w.png" class="gg p q gf ac" width="200" height="200"/></noscript></div></div></figure><p id="3154" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Passport is:</p><blockquote class="mb mc md"><p id="3737" class="jr js ed me jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Simple, unobtrusive authentication for Node.js — Passport.js</p></blockquote><p id="a331" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">and it works exceedingly well with Express. Passport is authentication middleware for Node, which serves one purpose, to authenticate requests, in a modular way that leaves all other functionality to the application itself, making code cleaner, easier to maintain and provides a clear separation of concerns.</p><p id="7486" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">If you type the term ‘JavaScript authentication middleware’ or even just ‘JavaScript authentication’ into the Google search bar, Passport.js ranks within the top 5 search results. That’s how ubiquitous this solution is in the JavaScript ecosystem.</p><p id="2cd7" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Did I mention it boasts more than 500+ authentication strategies? It does. Whether you wish to log in with a simple username and password, with Github credentials, Facebook, oAuth, etc., there’s probably a Passport.js strategy for it.</p><p id="291c" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">So it was a simple decision to choose Passport as part of my authorization strategy.</p><p id="a67b" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">I’d like to add documentation on the site is pretty good, though some things like <a href="http://www.passportjs.org/docs/authorize/?source=post_page---------------------------" class="cz bu li lj lk ll">custom callbacks</a> require much more careful reading (and trial and error, for me) to correctly set up. But I’m getting ahead of myself, I’ll cover the gotchas in implementation.</p><h2 id="dad0" class="lm ln ed aq ap eb lo lp lq lr ls lt lu lv lw lx ly" data-selectable-paragraph="">How Do I Implement Them in Express.js (and a little React)?</h2><figure class="jc jd je jf jg fb mh y z paragraph-image"><div class="jm n er jn"><div class="mi n"><div class="dm jk gg p q gf ac bz v jl"><img src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_j8DELPVuI_w8045sxmHQsA.png" class="gg p q gf ac jp jq" width="700" height="272"></div><img class="nz oa gg p q gf ac gd" width="700" height="272" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_j8DELPVuI_w8045sxmHQsA(1).png"><noscript><img src="https://miro.medium.com/max/1400/1*j8DELPVuI_w8045sxmHQsA.png" class="gg p q gf ac" width="700" height="272"/></noscript></div></div></figure><p id="e0a6" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Now on to the fun part, how do you implement both Passport.js and JWT into an Express/Node application? To be honest, it stumped me for a good while. But after numerous tutorials, re-readings of documentation and turning to Stack Overflow for help, I got to a place of understanding and satisfaction.</p><p id="02fd" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">I should say, one of my goals for this app was to make it modular, make it super simple to add or remove functionality, so when you see my file structure, you’ll notice all the routes for the CRUD functionality (create, read, update, delete) are built into separate files, and all the Passport authentication is handled in one, centralized file as well. Here’s a look at the file structure of the API portion of my app.</p><p id="b5e1" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph=""><strong class="jt mj">The API File Tree</strong></p><pre class="jc jd je jf jg hr fh ci"><span id="10fb" class="lm ln ed aq lc b eg mk ml n mm" data-selectable-paragraph="">root/<br>├── api/ <br>| ├── config <br>| | ├── passport.js <br>| | ├── jwtConfig.js<br>| ├── server.js <br>| ├── sequelize.js <br>| ├── package.json<br>| ├── models/ <br>| | ├── user.js<br>| ├── routes/ <br>| | ├── deleteUser.js <br>| | ├── findUsers.js <br>| | ├── loginUser.js <br>| | ├── registerUser.js<br>| | ├── updateUser.js<br>| ├── node-modules/</span></pre><p id="e9a2" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph=""><strong class="jt mj">The </strong><code class="jn la lb lc b"><strong class="jt mj">package.json</strong></code><strong class="jt mj"> File</strong></p><p id="9310" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">And here is the <code class="jn la lb lc b">package.json</code> and its dependencies so you can see exactly what I’m using.</p><figure class="jc jd je jf jg fb mn y z paragraph-image"><div class="jm n er jn"><div class="mo n"><div class="dm jk gg p q gf ac bz v jl"><img src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_wYBYS2t3idM94iJdXipLnQ.png" class="gg p q gf ac jp jq" width="700" height="830"></div><img class="nz oa gg p q gf ac gd" width="700" height="830" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_wYBYS2t3idM94iJdXipLnQ(1).png"><noscript><img src="https://miro.medium.com/max/1400/1*wYBYS2t3idM94iJdXipLnQ.png" class="gg p q gf ac" width="700" height="830"/></noscript></div></div><figcaption class="au eg mp mq ht dl y z mr ap ct" data-selectable-paragraph="">Nothing super fancy here: just jsonwebtoken, passport, passport-local and passport-jwt.</figcaption></figure><p id="31b6" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">The dependencies include a few extras like <code class="jn la lb lc b">babel</code> so I can use ES6 syntax in my Node.js app, <code class="jn la lb lc b">bcrypt</code> for password hashing and <code class="jn la lb lc b">sequelize</code> as my MySQL ORM, but the things you need to focus on are <code class="jn la lb lc b">jsonwebtoken</code>, <code class="jn la lb lc b">passport</code>, <code class="jn la lb lc b">passport-local</code> and <code class="jn la lb lc b">passport-jwt</code>. These are the necessities for this blog.</p><p id="599a" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph=""><strong class="jt mj">The </strong><code class="jn la lb lc b"><strong class="jt mj">server.js</strong></code><strong class="jt mj"> File</strong></p><p id="fcc7" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">I’ll start with the <code class="jn la lb lc b">server.js</code> file first, as it requires the least explanation. This file is purely for starting the server, initializing the use of Passport in the app and setting up the routes and parsing of requests from the client side.</p><figure class="jc jd je jf jg fb mn y z paragraph-image"><div class="jm n er jn"><div class="ms n"><div class="dm jk gg p q gf ac bz v jl"><img src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_O7eM5lUDe_Kj_V9morUVeQ.png" class="gg p q gf ac jp jq" width="700" height="596"></div><img class="nz oa gg p q gf ac gd" width="700" height="596" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_O7eM5lUDe_Kj_V9morUVeQ(1).png"><noscript><img src="https://miro.medium.com/max/1400/1*O7eM5lUDe_Kj_V9morUVeQ.png" class="gg p q gf ac" width="700" height="596"/></noscript></div></div><figcaption class="au eg mp mq ht dl y z mr ap ct" data-selectable-paragraph="">A little ES6 in the imports and consts, but what you should focus on is the passport.initialize() and the routes.</figcaption></figure><p id="ba52" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Pretty straightforward right? Great. Moving on.</p><p id="b705" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">You might also have noticed the <code class="jn la lb lc b">require('./config/passport');</code>, this is the next step I’ll go over. The JWT and Passport configuration, inside of the folder named <code class="jn la lb lc b">config</code>.</p><p id="b57b" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph=""><strong class="jt mj">The </strong><code class="jn la lb lc b"><strong class="jt mj">jwtConfig.js</strong></code><strong class="jt mj"> File</strong></p><p id="3f72" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">The JWT config is very simple, it’s the secret required by JWT to encode and decode the tokens. Typically, this would be stored as an environmental variable in a file that’s not checked in to Github, but to show how this works, I’ve set it in here.</p><figure class="jc jd je jf jg fb mt y z paragraph-image"><div class="jm n er jn"><div class="mu n"><div class="dm jk gg p q gf ac bz v jl"><img src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_OI4PyET0eLINN6Bkg0qy_w.png" class="gg p q gf ac jp jq" width="700" height="176"></div><img class="nz oa gg p q gf ac gd" width="700" height="176" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_OI4PyET0eLINN6Bkg0qy_w(1).png"><noscript><img src="https://miro.medium.com/max/1400/1*OI4PyET0eLINN6Bkg0qy_w.png" class="gg p q gf ac" width="700" height="176"/></noscript></div></div><figcaption class="au eg mp mq ht dl y z mr ap ct" data-selectable-paragraph="">This is the jwtConfig.js file in the config folder.</figcaption></figure><p id="c300" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph=""><strong class="jt mj">The </strong><code class="jn la lb lc b"><strong class="jt mj">passport.js</strong></code><strong class="jt mj"> File</strong></p><p id="428c" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">The real setup for all my Passport authentication comes in the <code class="jn la lb lc b">passport.js</code> file. Here it is.</p><figure class="jc jd je jf jg fb mv y z paragraph-image"><div class="jm n er jn"><div class="mw n"><div class="dm jk gg p q gf ac bz v jl"><img src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_s3Q76dUmGqO2imEYEKqrnQ.png" class="gg p q gf ac jp jq" width="700" height="1563"></div><img class="nz oa gg p q gf ac gd" width="700" height="1563" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_s3Q76dUmGqO2imEYEKqrnQ(1).png"><noscript><img src="https://miro.medium.com/max/1400/1*s3Q76dUmGqO2imEYEKqrnQ.png" class="gg p q gf ac" width="700" height="1563"/></noscript></div></div><figcaption class="au eg mp mq ht dl y z mr ap ct" data-selectable-paragraph="">Yes, all this is part of the passport.js file.</figcaption></figure><p id="139a" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">I realize this is a lot of code to take in. If you’d like to see just the code for Passport and the routes with Passport authentication, I created a few gists <a href="https://gist.github.com/paigen11/c72c8c20da9cd440f45025a1b05e5e58?source=post_page---------------------------" class="cz bu li lj lk ll">here</a> with the code.</p><p id="12cf" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">I’ll walk through the two types of Passport implementation happening here: passport-local for the <code class="jn la lb lc b">register</code> and <code class="jn la lb lc b">login</code> methods and passport-jwt for the <code class="jn la lb lc b">jwt</code> method.</p><p id="0725" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Passport-local uses a username and password, and passport-jwt uses a JWT payload to verify the user is legit.</p><p id="4826" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Like I said earlier, the documentation for both using just Express.js is fairly good, but the trick comes in combining it with the MySQL database and the information passed from the React client on the front end.</p><p id="ef59" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Once the passport-local strategy has been passed a username and password (which I verify that both inputs are at least filled before ever calling back to the server), the first check I do is with Sequelize, my SQL ORM (like Mongoose for MongoDB), to determine if that username exists in the database. If it returns <code class="jn la lb lc b">null</code>, the authentication fails (no user in the db matches), and typically, a <code class="jn la lb lc b">401 Unauthorized</code> would be thrown back from the server to the client with no further information.</p><h2 id="2a66" class="lm ln ed aq ap eb lo lp lq lr ls lt lu lv lw lx ly" data-selectable-paragraph="">Passport Gotcha #1: Info in Error Handling</h2><p id="b98a" class="jr js ed aq jt b ju mx jw my jy mz ka na kc nb ke" data-selectable-paragraph="">This type of error handling, to me, was the most frustrating thing about Passport. The lack of information to let a user (or myself) know what the actual error was beyond <code class="jn la lb lc b">401 Unathorized</code>.</p><p id="9fc1" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">But there’s a better solution that requires a little extra work, with <strong class="jt mj">custom callbacks</strong>. I’ll go into more detail about the callback soon, but for now, you can see if there’s some sort of error, instead of returning a <code class="jn la lb lc b">return done(null, user);</code>, passport can pass back <code class="jn la lb lc b">return done(null, false, { message: 'bad username or passwords don't match' });</code>. This message can then be passed back from the server to the client, actually telling the user what the problem is (which is what I wanted for this app). If you prefer just to tell the user their authentication failed, but not disclose why, that’s cool too. Your choice, but I want to show how error messaging can be done.</p><p id="6bcc" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">The rest of the passport-local strategy is pretty self-explanatory, on <code class="jn la lb lc b">register</code> the user’s password is hashed and salted with the encryption package <code class="jn la lb lc b">bcrypt</code>, and then when the <code class="jn la lb lc b">login</code> method is invoked, it hashes the newly entered password and checks the passwords with bcrypt’s <code class="jn la lb lc b">compare</code> function before returning either a positive or negative on the verification.</p><p id="27fc" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Now, that brings me to the passport-jwt strategy, which is named <code class="jn la lb lc b">jwt</code>. This is the authentication that’s called on the protected routes in the application: <code class="jn la lb lc b">findUsers</code>, <code class="jn la lb lc b">updateUser</code>, <code class="jn la lb lc b">deleteUser</code>. For the jwt strategy, the JWT is passed back from the client with each call to the server (I passed mine in an authorization header with the key: <code class="jn la lb lc b">JWT</code>), which is extracted and then decoded using the secret (which is stored in another file, but should really be an environment variable known only to the system).</p><p id="823b" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Once the JWT payload is decrypted, the ID (which for me is the username) can be searched for in the database just like the passport-local strategy does, and either returned with <code class="jn la lb lc b">done(null, user);</code>, if the user is found or with <code class="jn la lb lc b">done(null, false);</code> if it’s not (which should almost never happen because the JWT includes the username in its encrypted form, so unless that’s somehow been tampered with or the db has been, it should be able to find the user).</p><h2 id="4401" class="lm ln ed aq ap eb lo lp lq lr ls lt lu lv lw lx ly" data-selectable-paragraph="">Passport Gotcha #2: Passport-Local Wants Return, Passport-JWT Does Not</h2><p id="ee3b" class="jr js ed aq jt b ju mx jw my jy mz ka na kc nb ke" data-selectable-paragraph="">This brings me to my second gotcha which tripped me up for a good bit of time; not all passport strategies require the same resolution. If you’re looking closely, you’ll see the passport-local strategies both have <code class="jn la lb lc b">return done(null, user);</code> but the passport-jwt strategy has <code class="jn la lb lc b">done(null, user);</code>. See the difference? It’s minuscule, but having (or removing that <code class="jn la lb lc b">return</code>), is the difference between that user data being passed back from the middleware to the server or not.</p><p id="4560" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">And it halted my progress for a good few hours, before the kindness of Stack Overflow helped me work through the issue (it’s the first time I’ve actually had to ask SO for an answer I couldn’t find already, but it was well worth it). So be aware of when to <code class="jn la lb lc b">return</code> or not.</p><p id="b30c" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Ok, so I’ve walked through the two Passport strategies and the three methods I’m using for middleware authentication in my program, now on to after the authentication on the server.</p><p id="cedd" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph=""><strong class="jt mj">The </strong><code class="jn la lb lc b"><strong class="jt mj">registerUser.js</strong></code><strong class="jt mj"> File</strong></p><p id="b8b3" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">The next step is how to implement these newly minted methods inside of the various routes. Here’s the <code class="jn la lb lc b">registerUser</code> route.</p><figure class="jc jd je jf jg fb nc y z paragraph-image"><div class="jm n er jn"><div class="nd n"><div class="dm jk gg p q gf ac bz v jl"><img src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_L-wqLmoF6GCZyx5crZX5zQ.png" class="gg p q gf ac jp jq" width="700" height="942"></div><img class="nz oa gg p q gf ac gd" width="700" height="942" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_L-wqLmoF6GCZyx5crZX5zQ(1).png"><noscript><img src="https://miro.medium.com/max/1400/1*L-wqLmoF6GCZyx5crZX5zQ.png" class="gg p q gf ac" width="700" height="942"/></noscript></div></div><figcaption class="au eg mp mq ht dl y z mr ap ct" data-selectable-paragraph="">Notice the closure style invocation of this route — that’s what makes messages from the authentication layer to the server and client possible.</figcaption></figure><p id="9536" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">As you can see, this implementation of passport looks a little different than most examples out there, and it’s because I’m using the custom callback version of Passport, which requires a closure call. I’m using this so that the error message that’s passed back if Passport’s authentication fails can be sent from the server to the client instead of the obscure <code class="jn la lb lc b">401 Unauthorized</code>.</p><p id="98c9" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Because this is being implemented as a callback (which is why you see <code class="jn la lb lc b">(req, res, next)</code> not once, but twice in these scripts; it gives me access to the <code class="jn la lb lc b">(err, user, info)</code> from the Passport middleware. The <code class="jn la lb lc b">info</code> is what I’m interested in — that’s the message being sent back, so if the info is anything besides null, that means the authentication failed and I can then send the message to the client to let them know why.</p><h2 id="bf86" class="lm ln ed aq ap eb lo lp lq lr ls lt lu lv lw lx ly" data-selectable-paragraph="">Passport Gotcha #3: Don’t Forget `req.logIn()` In Your Custom Callback</h2><p id="366c" class="jr js ed aq jt b ju mx jw my jy mz ka na kc nb ke" data-selectable-paragraph="">Now, I’m to the third Passport gotcha, in order to make the closures and custom callbacks work with passport-local, the little method <code class="jn la lb lc b">req.logIn()</code> must be called before the <code class="jn la lb lc b">user</code> data is handled if it comes back successfully from the middleware.</p><p id="9018" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">This is documented in the Passport documentation, but it’s importance is not stressed as much as I would like (and I missed it the first few times trying to get custom callbacks to work), which is why I highlight it now.</p><p id="3083" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">It must happen, and once that’s done, I’m able to take the extra inputs from the client side for registering a user, find that same user created in the database during the passport-local <code class="jn la lb lc b">register</code> call, and update the user file with the extra info. I could have passed this extra data through to the middleware as well, but I want Passport to only handle authentication, not user creation as well. Modularization, remember.</p><p id="8fa0" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Plus, if the authentication were to be split out into a separate service with a separate database of just encrypted usernames and passwords, this would make it easier to do so, then use the username or ID to find and update the corresponding user record in this registration service.</p><p id="af11" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Once all that’s been successfully taken care of, a 200 HTTP status and success message are sent back to the client.</p><p id="86b5" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">The <code class="jn la lb lc b">loginUser.js</code> File</p><p id="4c08" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Seeing the <code class="jn la lb lc b">loginUser</code> route now should make more sense.</p><figure class="jc jd je jf jg fb ne y z paragraph-image"><div class="jm n er jn"><div class="nf n"><div class="dm jk gg p q gf ac bz v jl"><img src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_7utL18UTRZaiGvarkduxHg.png" class="gg p q gf ac jp jq" width="700" height="677"></div><img class="nz oa gg p q gf ac gd" width="700" height="677" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_7utL18UTRZaiGvarkduxHg(1).png"><noscript><img src="https://miro.medium.com/max/1400/1*7utL18UTRZaiGvarkduxHg.png" class="gg p q gf ac" width="700" height="677"/></noscript></div></div><figcaption class="au eg mp mq ht dl y z mr ap ct" data-selectable-paragraph="">Same style of closure for the login route.</figcaption></figure><p id="1bfd" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">The same style of custom callbacks and closures are used, the biggest difference is that once the user is successfully verified and located in the database, the JWT token is generated using the <code class="jn la lb lc b">jwt.sign();</code> function, which sets the username as the ID passed in the JWT, and encrypted by the secret I set earlier.</p><p id="69dc" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Once again, if all this works successfully, a 200 HTTP status is sent with a boolean I named <code class="jn la lb lc b">auth</code> set to true for the client side, the newly generated token and a short login success message.</p><p id="81a8" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph=""><strong class="jt mj">The </strong><code class="jn la lb lc b"><strong class="jt mj">findUsers.js</strong></code><strong class="jt mj"> File</strong></p><p id="55f9" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">And last, but not least, here’s the <code class="jn la lb lc b">findUsers</code> route. I used the same passport-jwt authentication for the <code class="jn la lb lc b">updateUser</code> and <code class="jn la lb lc b">deleteUser</code> routes, so I’ll just show this one as an example.</p><figure class="jc jd je jf jg fb ne y z paragraph-image"><div class="jm n er jn"><div class="ng n"><div class="dm jk gg p q gf ac bz v jl"><img src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_gKk1wRN5jefrgl5xxcs2nQ.png" class="gg p q gf ac jp jq" width="700" height="537"></div><img class="nz oa gg p q gf ac gd" width="700" height="537" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_gKk1wRN5jefrgl5xxcs2nQ(1).png"><noscript><img src="https://miro.medium.com/max/1400/1*gKk1wRN5jefrgl5xxcs2nQ.png" class="gg p q gf ac" width="700" height="537"/></noscript></div></div></figure><p id="b458" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">I used custom callbacks for all my Passport authenticated routes (I appreciate good, clear error handling), so this code style should look routine by now.</p><p id="0e84" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">This time, when <code class="jn la lb lc b">passport.authenticate()</code> is called, I implement the JWT strategy defined in the <code class="jn la lb lc b">passport.js</code> file. The same <code class="jn la lb lc b">(err, user, info)</code> gets passed back from the middleware, but there’s no call from <code class="jn la lb lc b">req.logIn()</code> this time. Instead, I just return the <code class="jn la lb lc b">user</code> object found during the authentication and pass all the required fields to the client along with the <code class="jn la lb lc b">auth</code> boolean and success message. The JWT token is still stored in local storage on the client side so there’s no need to regenerate or pass it to the client again as well. Which brings me to my final passport gotcha.</p><h2 id="39ae" class="lm ln ed aq ap eb lo lp lq lr ls lt lu lv lw lx ly" data-selectable-paragraph="">Passport Gotcha #4: Passing Authorization Headers Correctly</h2><p id="9204" class="jr js ed aq jt b ju mx jw my jy mz ka na kc nb ke" data-selectable-paragraph="">This one’s not exactly a Passport-specific gotcha, but it is yet another thing that tripped me up.</p><p id="f600" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">As I said, I pieced together my (now much more whole) understanding of JWT and Passport from a bunch of other tutorials and documentation, and one of those tutorials led me astray. It had me passing the JWT back to the client in something besides true authorization headers, which is the way that I chose to have my passport-jwt strategy extract the JWT payload from the client request. For this reason, I wanted to touch briefly on one piece of the front end code, where I pass back the token in the proper format, so you don’t have to waste the time debugging like I did.</p><figure class="jc jd je jf jg fb nh y z paragraph-image"><div class="jm n er jn"><div class="ni n"><div class="dm jk gg p q gf ac bz v jl"><img src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_Tjg-XaIFVhZEZCxEixNPRQ.png" class="gg p q gf ac jp jq" width="700" height="686"></div><img class="nz oa gg p q gf ac gd" width="700" height="686" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_Tjg-XaIFVhZEZCxEixNPRQ(1).png"><noscript><img src="https://miro.medium.com/max/1400/1*Tjg-XaIFVhZEZCxEixNPRQ.png" class="gg p q gf ac" width="700" height="686"/></noscript></div></div><figcaption class="au eg mp mq ht dl y z mr ap ct" data-selectable-paragraph="">The client side call that loads user data after passing back the JWT stored in the user’s local storage.</figcaption></figure><p id="aa37" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">I’m using the popular promise-based HTTP client <a href="https://www.npmjs.com/package/axios?source=post_page---------------------------" class="cz bu li lj lk ll">Axios</a> to make my server calls, but what you really need to notice is the <code class="jn la lb lc b">headers</code> section. Before the call to the server happens, I extract the JWT from local storage using <code class="jn la lb lc b">localStorage.getItem('JWT')</code> (the key I set with the JWT value when I passed the token forward from the <code class="jn la lb lc b">loginUser()</code> route on the server side), and then I set it using <code class="jn la lb lc b">headers: { Authorization: `JWT ${accessString}` }</code> and a little ES6 string interpolation. That way, if my authorization headers had more than one value to parse out, it would still be easy for passport-jwt to extract the correct JWT payload info by finding the string associated with ‘JWT’.</p><p id="8f02" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">And that’s it, I just wanted to cover it because it blocked me for a while and only through API testing with Insomnia, could I confirm my JWT token was actually working, and suss out that I was passing authorization headers from the client side incorrectly.</p><h2 id="1d6a" class="lm ln ed aq ap eb lo lp lq lr ls lt lu lv lw lx ly" data-selectable-paragraph="">Conclusion</h2><p id="2b06" class="jr js ed aq jt b ju mx jw my jy mz ka na kc nb ke" data-selectable-paragraph="">I know I wrote a lot (and provided a bunch of code snippets and gists), but authentication is not a simple concept. Nor is it truly possible to really make an app so secure no one will ever be able to hack it. But if you take precautions like JWT and Passport.js authentication middleware, your Node.js app should have a better chance to withstand people with malicious intent.</p><p id="e358" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Just be sure to look out for the gotchas I highlighted around Passport — and you’ll be on your way to a more secure site.</p><p id="09f4" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph="">Thanks for reading, I hope this proves helpful and gives you a better understanding of implementing Passport authentication and using JSON web tokens. Claps and shares are very much appreciated!</p><p id="043f" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph=""><strong class="jt mj">If you enjoyed reading this, you may also enjoy some of my other blogs:</strong></p><ul class=""><li id="d6b9" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke nj nk nl" data-selectable-paragraph=""><a href="https://medium.com/@paigen11/postman-vs-insomnia-comparing-the-api-testing-tools-4f12099275c1?source=post_page---------------------------" class="cz bu li lj lk ll">Postman vs. Insomnia: Comparing the API Testing Tools</a></li><li id="0216" class="jr js ed aq jt b ju nm jw nn jy no ka np kc nq ke nj nk nl" data-selectable-paragraph=""><a href="https://medium.com/@paigen11/using-docker-docker-compose-to-improve-your-full-stack-application-development-1e41280748f4?source=post_page---------------------------" class="cz bu li lj lk ll">Using Docker &amp; Docker Compose To Improve Your Full Stack Application Development</a></li><li id="1b5a" class="jr js ed aq jt b ju nm jw nn jy no ka np kc nq ke nj nk nl" data-selectable-paragraph=""><a href="https://medium.com/@paigen11/sequelize-the-orm-for-sql-databases-with-nodejs-daa7c6d5aca3?source=post_page---------------------------" class="cz bu li lj lk ll">Sequelize: The ORM For SQL Databases with NodeJS</a></li></ul></div></section><hr class="nr ct gy ns nt ht nu nv nw nx ny"><section class="hz ia ib ic id"><div class="af ie ac dl w x"><p id="8702" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke" data-selectable-paragraph=""><strong class="jt mj">References and Further Resources:</strong></p><ul class=""><li id="ce08" class="jr js ed aq jt b ju jv jw jx jy jz ka kb kc kd ke nj nk nl" data-selectable-paragraph="">Passport.js: <a href="http://www.passportjs.org/?source=post_page---------------------------" class="cz bu li lj lk ll">http://www.passportjs.org/</a></li><li id="ec32" class="jr js ed aq jt b ju nm jw nn jy no ka np kc nq ke nj nk nl" data-selectable-paragraph="">JSON Web Tokens: <a href="https://jwt.io/?source=post_page---------------------------" class="cz bu li lj lk ll">https://jwt.io/</a></li><li id="0336" class="jr js ed aq jt b ju nm jw nn jy no ka np kc nq ke nj nk nl" data-selectable-paragraph="">MERN App with Passport &amp; JWT Repo: <a href="https://github.com/paigen11/mysql-registration-passport?source=post_page---------------------------" class="cz bu li lj lk ll">https://github.com/paigen11/mysql-registration-passport</a></li><li id="1644" class="jr js ed aq jt b ju nm jw nn jy no ka np kc nq ke nj nk nl" data-selectable-paragraph="">Gists of Passport implementation with routes: <a href="https://gist.github.com/paigen11/c72c8c20da9cd440f45025a1b05e5e58?source=post_page---------------------------" class="cz bu li lj lk ll">https://gist.github.com/paigen11/c72c8c20da9cd440f45025a1b05e5e58</a></li><li id="9dd0" class="jr js ed aq jt b ju nm jw nn jy no ka np kc nq ke nj nk nl" data-selectable-paragraph="">Axios: <a href="https://www.npmjs.com/package/axios?source=post_page---------------------------" class="cz bu li lj lk ll">https://www.npmjs.com/package/axios</a></li></ul></div></section></div></article><div class="nz pi do o dp dq dr ds dt e" data-test-id="post-sidebar"><div class="ag du"><div class="dv dw n"><a href="https://itnext.io/?source=post_sidebar--------------------------post_sidebar-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><h2 class="ap eb ec ar ed">ITNEXT</h2></a><div class="ee ef n"><h4 class="ap ct eg ar bz eh ei ej ek el au">ITNEXT is a platform for IT developers &amp; software engineers to share knowledge, connect, collaborate, learn and experience next-gen technologies.</h4></div><div class="bt"><button class="em bn aw ax bo bg bh bp bf bq ap b aq ar as at br bs af bt bu bi">Follow</button></div></div><div class="en eo ep ag"><div class="ag ah"><div class="eq n er"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436&amp;source=post_sidebar-----b86b1f313436---------------------clap_sidebar-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><div class="bd es et eu ev ew ex ax ey"><svg width="29" height="29"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></div><div class="ez n"><div class="fa"><h4 class="ap ct eg ar au"><button class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea">952 </button></h4></div></div></div></div><div><div class="bt"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436&amp;source=post_sidebar--------------------------bookmark_sidebar-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div><div><div class="dk fb ag du fc"><section class="w x y z ac dl af n"><ul class="bd be"><li class="bt cf fd fe"><a href="https://itnext.io/tag/javascript" class="ff fg bu au n fh fi a b cu">JavaScript</a></li><li class="bt cf fd fe"><a href="https://itnext.io/tag/jwt" class="ff fg bu au n fh fi a b cu">Jwt</a></li><li class="bt cf fd fe"><a href="https://itnext.io/tag/passport" class="ff fg bu au n fh fi a b cu">Passport</a></li><li class="bt cf fd fe"><a href="https://itnext.io/tag/web-development" class="ff fg bu au n fh fi a b cu">Web Development</a></li><li class="bt cf fd fe"><a href="https://itnext.io/tag/security" class="ff fg bu au n fh fi a b cu">Security</a></li></ul><div class="ag fj fk"><div class="ag ah"><div class="fl n er"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436&amp;source=post_actions_footer-----b86b1f313436---------------------clap_footer-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><div class="c fm fn ag ah fo er fp fq bp fr fs ft fu fv fw fx fy fz ga gb"><div class="bd es et eu ev ew gc ah gd fn ag ax fc ge q gf gg p ac ey"><svg width="33" height="33" viewBox="0 0 33 33"><path d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z" fill-rule="evenodd"></path></svg></div></div></a></div><div class="ez n"><div class="fa"><h4 class="ap ct eg ar ed"><button class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea">952 claps</button></h4></div></div></div><div class="ag ah"><div class="gh n an g"><a href="https://medium.com/p/b86b1f313436/share/twitter?source=follow_footer--------------------------follow_footer-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><svg width="29" height="29" class="am"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="gh n an g"><a href="https://medium.com/p/b86b1f313436/share/facebook?source=follow_footer--------------------------follow_footer-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><svg width="29" height="29" class="am"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="gh gi bx"><div class="bt"><button class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><svg width="25" height="25" class="am"><g fill-rule="evenodd"><path d="M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"></path><path d="M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"></path></g></svg></button></div></div><div class="gh n an"><div><div class="bt"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436&amp;source=post_actions_footer--------------------------bookmark_sidebar-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div><div class="bt"><div class="bt"><div class="n an"><button class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><svg width="25" height="25" viewBox="-480.5 272.5 21 21" class="am"><path d="M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"></path></svg></button></div></div></div></div></div><div class="gj gk gl gm"><div class="gn go n er"><span class="n gp aj gq"><div class="n gg gr gs"><a href="https://itnext.io/@paigen11?source=follow_footer--------------------------follow_footer-"><img alt="Paige Niedringhaus" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_2In1UKOCadRTaeRRYNYXKg(1).jpeg" class="n fn cm gt" width="80" height="80"></a></div><span class="n"><div class="gu n gv"><p class="ap ct cu ar au cx gw">Written by</p></div><div class="gu gx ag gv"><div class="ac ag ah fj"><h2 class="ap eb gy gz ed"><a href="https://itnext.io/@paigen11?source=follow_footer--------------------------follow_footer-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea">Paige Niedringhaus</a></h2><div class="n g"><button class="em ed am bn ha hb hc hd bf dz he hf hg hh hi hj bq ap b aq ar as at br bs af bt bu bi">Follow</button></div></div></div></span></span><div class="gu hk n gv bx"><div class="hl n"><h4 class="ap ct ec hm au">Digital marketer turned full-stack software engineer. JavaScript is my language of choice, but I enjoy learning new things in new languages.</h4></div><div class="gi hn bx"><button class="em ed am bn ha hb hc hd bf dz he hf hg hh hi hj bq ap b aq ar as at br bs af bt bu bi">Follow</button></div></div></div><div class="gl n"></div><div class="gn go n er"><span class="n gp aj gq"><div class="n gg gr gs"><a href="https://itnext.io/?source=follow_footer--------------------------follow_footer-"><img alt="ITNEXT" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_yAqDFIFA5F_NXalOJKz4TA.png" class="bq gt cm" width="80" height="80"></a></div><span class="n"><div class="gu gx ag gv"><div class="ac ag ah fj"><h2 class="ap eb gy gz ed"><a href="https://itnext.io/?source=follow_footer--------------------------follow_footer-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea">ITNEXT</a></h2><div class="n g"><div class="bt"><button class="em bn aw ax bo bg bh bp bf bq ap b aq ar as at br bs af bt bu bi">Follow</button></div></div></div></div></span></span><div class="gu ho n gv bx"><div class="hl n"><h4 class="ap ct ec hm au">ITNEXT is a platform for IT developers &amp; software engineers to share knowledge, connect, collaborate, learn and experience next-gen technologies.</h4></div><div class="gi hn bx"><div class="bt"><button class="em bn aw ax bo bg bh bp bf bq ap b aq ar as at br bs af bt bu bi">Follow</button></div></div></div></div></div><div class="hp hq n"><a href="https://medium.com/p/b86b1f313436/responses/show?source=follow_footer--------------------------follow_footer-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><div class="hr hs ff n ht bx"><span class="aw">See responses (14)</span></div></a></div></section><div class="hu n hv"><section class="w x y z ac ae af n"><section class="y iq z ac ob af ag fj"><section class="gn y z ac ob af n"><div class="oc dw gn n"><h2 class="ap eb od oe ed">More From Medium</h2></div><div class="ag of"><div class="jj og n ak oh"><div class="ac gf"><div class="gn ag du"><div class="oi n"><h4 class="ap ct eg ar au">More from ITNEXT</h4></div><div class="oj n"><a class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea n" href="https://itnext.io/the-top-10-most-common-mistakes-ive-seen-in-go-projects-4b79d4f6cd65?source=post_recirc---------0------------------"><div class="ok er"><div class="gf gg ac"><div class="ol n om on gf ac oo op"></div></div></div></a></div><div class="oj n"><a href="https://itnext.io/the-top-10-most-common-mistakes-ive-seen-in-go-projects-4b79d4f6cd65?source=post_recirc---------0------------------"><h3 class="ed am ih oq aq kt or os">The Top 10 Most Common Mistakes I’ve Seen in Go Projects</h3></a></div><div class="ag ah fj"><div class="ot n ce"><div class="ah ag"><div><a href="https://itnext.io/@teivah?source=post_recirc---------0------------------"><div class="er ou ov"><svg width="46" height="50" viewBox="0 0 46 50" class="ow gg ox oy oz pa dn"><path d="M1.45 15.22C5.43 7.07 13.59 1.5 23 1.5v-1C13.18.5 4.69 6.32.55 14.78l.9.44zM23 1.5c9.4 0 17.57 5.57 21.55 13.72l.9-.44C41.3 6.32 32.82.5 23 .5v1zm21.55 33.28C40.57 42.93 32.41 48.5 23 48.5v1c9.82 0 18.31-5.82 22.45-14.28l-.9-.44zM23 48.5c-9.4 0-17.57-5.57-21.55-13.72l-.9.44C4.7 43.68 13.18 49.5 23 49.5v-1z"></path></svg><img alt="Teiva Harsanyi" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_PSFDOrIcwjBuyeJI96LKog.jpeg" class="n fn ov ou" width="40" height="40"></div></a></div><div class="it ac n"><div class="ag"><div style="flex: 1 1 0%;"><span class="ap b aq ar as at n ed am"><div class="df ag ah iv" data-test-id="postByline"><span class="ap ct eg ar bz iw ei ej ix el ed"><a href="https://itnext.io/@teivah?source=post_recirc---------0------------------" class="cz da ay az ba bb bc bd be bf iy bi bj dz ea">Teiva Harsanyi</a><span> in <a href="https://itnext.io/?source=post_recirc---------0------------------" class="cz da ay az ba bb bc bd be bf iy bi bj dz ea">ITNEXT</a></span></span></div></span></div></div><span class="ap b aq ar as at n au av"><span class="ap ct eg ar bz iw ei ej ix el au"><div><a class="cz da ay az ba bb bc bd be bf iy bi bj dz ea" href="https://itnext.io/the-top-10-most-common-mistakes-ive-seen-in-go-projects-4b79d4f6cd65?source=post_recirc---------0------------------">Jul 17</a> · 11 min read</div></span></span></div></div></div><div class="ag ah"><div class="ag ah"><div class="eq n er"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436&amp;source=post_recirc-----4b79d4f6cd65----0-----------------clap_preview-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><div class="bd es et eu ev ew ex pb pc"><svg width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></div><div class="ez n"><div class="fa"><h4 class="ap ct eg ar au">2.2K </h4></div></div></div><div class="pd it ot cn pe n"></div><div><div class="bt"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436&amp;source=post_recirc---------0-----------------bookmark_sidebar-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div></div></div><div class="jj og n ak oh"><div class="ac gf"><div class="gn ag du"><div class="oi n"><h4 class="ap ct eg ar au">More from ITNEXT</h4></div><div class="oj n"><a class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea n" href="https://itnext.io/test-driven-development-is-dumb-fight-me-a38b3033280c?source=post_recirc---------1------------------"><div class="ok er"><div class="gf gg ac"><div class="pf n om on gf ac oo op"></div></div></div></a></div><div class="oj n"><a href="https://itnext.io/test-driven-development-is-dumb-fight-me-a38b3033280c?source=post_recirc---------1------------------"><h3 class="ed am ih oq aq kt or os">Test Driven Development Is Dumb. Fight Me.</h3></a></div><div class="ag ah fj"><div class="ot n ce"><div class="ah ag"><div><a href="https://itnext.io/@mikecronin92?source=post_recirc---------1------------------"><img alt="Mike Cronin" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1__fyQhg7HIyLJbw-tdFBxXA.png" class="n fn ov ou" width="40" height="40"></a></div><div class="it ac n"><div class="ag"><div style="flex: 1 1 0%;"><span class="ap b aq ar as at n ed am"><div class="df ag ah iv" data-test-id="postByline"><span class="ap ct eg ar bz iw ei ej ix el ed"><a href="https://itnext.io/@mikecronin92?source=post_recirc---------1------------------" class="cz da ay az ba bb bc bd be bf iy bi bj dz ea">Mike Cronin</a><span> in <a href="https://itnext.io/?source=post_recirc---------1------------------" class="cz da ay az ba bb bc bd be bf iy bi bj dz ea">ITNEXT</a></span></span></div></span></div></div><span class="ap b aq ar as at n au av"><span class="ap ct eg ar bz iw ei ej ix el au"><div><a class="cz da ay az ba bb bc bd be bf iy bi bj dz ea" href="https://itnext.io/test-driven-development-is-dumb-fight-me-a38b3033280c?source=post_recirc---------1------------------">Jul 17</a> · 4 min read<span style="padding-left: 4px;"><svg class="star-15px_svg__svgIcon-use" width="15" height="15" viewBox="0 0 15 15" style="margin-top: -2px;"><path d="M7.44 2.32c.03-.1.09-.1.12 0l1.2 3.53a.29.29 0 0 0 .26.2h3.88c.11 0 .13.04.04.1L9.8 8.33a.27.27 0 0 0-.1.29l1.2 3.53c.03.1-.01.13-.1.07l-3.14-2.18a.3.3 0 0 0-.32 0L4.2 12.22c-.1.06-.14.03-.1-.07l1.2-3.53a.27.27 0 0 0-.1-.3L2.06 6.16c-.1-.06-.07-.12.03-.12h3.89a.29.29 0 0 0 .26-.19l1.2-3.52z"></path></svg></span></div></span></span></div></div></div><div class="ag ah"><div class="ag ah"><div class="eq n er"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436&amp;source=post_recirc-----a38b3033280c----1-----------------clap_preview-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><div class="bd es et eu ev ew ex pb pc"><svg width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></div><div class="ez n"><div class="fa"><h4 class="ap ct eg ar au">791 </h4></div></div></div><div class="pd it ot cn pe n"></div><div><div class="bt"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436&amp;source=post_recirc---------1-----------------bookmark_sidebar-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div></div></div><div class="pg og n ak oh"><div class="ac gf"><div class="gn ag du"><div class="oi n"><h4 class="ap ct eg ar au">More from ITNEXT</h4></div><div class="oj n"><a class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea n" href="https://itnext.io/understanding-angular-life-cycle-hooks-91616f8946e3?source=post_recirc---------2------------------"><div class="ok er"><div class="gf gg ac"><div class="ph n om on gf ac oo op"></div></div></div></a></div><div class="oj n"><a href="https://itnext.io/understanding-angular-life-cycle-hooks-91616f8946e3?source=post_recirc---------2------------------"><h3 class="ed am ih oq aq kt or os">Understanding Angular Life Cycle Hooks</h3></a></div><div class="ag ah fj"><div class="ot n ce"><div class="ah ag"><div><a href="https://itnext.io/@leonardo.giroto?source=post_recirc---------2------------------"><img alt="Leonardo Giroto" src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/1_ZVhGXc1rq1sJhMI1Ufabyw.jpeg" class="n fn ov ou" width="40" height="40"></a></div><div class="it ac n"><div class="ag"><div style="flex: 1 1 0%;"><span class="ap b aq ar as at n ed am"><div class="df ag ah iv" data-test-id="postByline"><span class="ap ct eg ar bz iw ei ej ix el ed"><a href="https://itnext.io/@leonardo.giroto?source=post_recirc---------2------------------" class="cz da ay az ba bb bc bd be bf iy bi bj dz ea">Leonardo Giroto</a><span> in <a href="https://itnext.io/?source=post_recirc---------2------------------" class="cz da ay az ba bb bc bd be bf iy bi bj dz ea">ITNEXT</a></span></span></div></span></div></div><span class="ap b aq ar as at n au av"><span class="ap ct eg ar bz iw ei ej ix el au"><div><a class="cz da ay az ba bb bc bd be bf iy bi bj dz ea" href="https://itnext.io/understanding-angular-life-cycle-hooks-91616f8946e3?source=post_recirc---------2------------------">Jul 22</a> · 7 min read<span style="padding-left: 4px;"><svg class="star-15px_svg__svgIcon-use" width="15" height="15" viewBox="0 0 15 15" style="margin-top: -2px;"><path d="M7.44 2.32c.03-.1.09-.1.12 0l1.2 3.53a.29.29 0 0 0 .26.2h3.88c.11 0 .13.04.04.1L9.8 8.33a.27.27 0 0 0-.1.29l1.2 3.53c.03.1-.01.13-.1.07l-3.14-2.18a.3.3 0 0 0-.32 0L4.2 12.22c-.1.06-.14.03-.1-.07l1.2-3.53a.27.27 0 0 0-.1-.3L2.06 6.16c-.1-.06-.07-.12.03-.12h3.89a.29.29 0 0 0 .26-.19l1.2-3.52z"></path></svg></span></div></span></span></div></div></div><div class="ag ah"><div class="ag ah"><div class="eq n er"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436&amp;source=post_recirc-----91616f8946e3----2-----------------clap_preview-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><div class="bd es et eu ev ew ex pb pc"><svg width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></div><div class="ez n"><div class="fa"><h4 class="ap ct eg ar au">110 </h4></div></div></div><div class="pd it ot cn pe n"></div><div><div class="bt"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436&amp;source=post_recirc---------2-----------------bookmark_sidebar-" class="cz da ay az ba bb bc bd be bf dx dy bi bj dz ea"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div></div></div></div></section></section></section></div></div></div>
  
  <!-- <script>window.PARSELY = window.PARSELY || {autotrack: false}</script> -->

</div></div>

<!-- <script>window.__BUILD_ID__ = "development"</script> -->

<!-- <script>window.__GRAPHQL_URI__ = "https://itnext.io/_/graphql"</script> -->

<!-- <script>window.__PRELOADED_STATE__ = {"config":{"nodeEnv":"production","version":"master-20190725-172748-a8311c1bcc","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","iTunesAppId":"828256236","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"collector-medium.lightstep.com","token":"ce5be895bef60919541332990ac9fef2","appVersion":"master-20190725-172748-a8311c1bcc"},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6LdAokEUAAAAAC7seICd4vtC8chDb3jIXDQulyUJ","sentry":{"dsn":"https:\u002F\u002F589e367c28ca47b195ce200d1507d18b@sentry.io\u002F1423575","environment":"production"},"isAmp":false,"googleAnalyticsCode":"UA-24232453-2","signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"]},"debug":{"requestId":"2af0e873-eee8-45af-9c4b-2de35a5fce7a","originalSpanCarrier":{"ot-tracer-spanid":"16bdb83767421482","ot-tracer-traceid":"5ceda302488371c0","ot-tracer-sampled":"true"}},"session":{"user":{"id":"lo_UYoPMayWcUQj"},"xsrf":""},"stats":{"itemCount":0,"sending":false,"timeout":null,"backup":{}},"navigation":{"showBranchBanner":null,"hideGoogleOneTap":false,"currentLocation":"https:\u002F\u002Fitnext.io\u002Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436","host":"itnext.io","hostname":"itnext.io","currentHash":""},"client":{"isBot":false,"isDnt":false,"isEu":false,"isNativeMedium":false,"isCustomDomain":true},"multiVote":{"clapsPerPost":{}},"metadata":{"faviconImageId":null}}</script> -->

<script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"viewer":null,"variantFlags":[{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.0","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.1","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.2","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.3","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.4","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.5","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.6","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.7","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.8","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.9","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.10","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.11","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.12","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.13","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.14","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.15","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.16","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.17","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.18","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.19","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.20","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.21","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.22","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.23","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.24","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.25","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.26","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.27","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.28","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.29","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.30","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.31","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.32","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.33","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.34","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.35","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.36","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.37","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.38","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.39","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.40","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.41","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.42","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.43","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.44","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.45","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.46","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.47","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.48","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.49","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.50","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.51","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.52","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.53","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.54","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.55","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.56","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.57","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.58","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.59","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.60","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.61","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.62","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.63","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.64","typename":"VariantFlag"}],"meterPost({\"postId\":\"b86b1f313436\",\"postMeteringOptions\":{}})":{"type":"id","generated":false,"id":"MeteringInfo:singleton","typename":"MeteringInfo"},"postResult({\"id\":\"b86b1f313436\"})":{"type":"id","generated":false,"id":"Post:b86b1f313436","typename":"Post"}},"ROOT_QUERY.variantFlags.0":{"name":"allow_access","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.0.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.0.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.1":{"name":"allow_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.1.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.1.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.2":{"name":"allow_test_auth","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.2.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.2.valueType":{"__typename":"VariantFlagString","value":"disallow"},"ROOT_QUERY.variantFlags.3":{"name":"signin_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.3.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.3.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap"},"ROOT_QUERY.variantFlags.4":{"name":"signup_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.4.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.4.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap"},"ROOT_QUERY.variantFlags.5":{"name":"google_sign_in_android","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.5.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.5.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.6":{"name":"browsable_stream_config_bucket","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.6.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.6.valueType":{"__typename":"VariantFlagString","value":"curated-topics"},"ROOT_QUERY.variantFlags.7":{"name":"enable_dedicated_series_tab_api_ios","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.7.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.7.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.8":{"name":"enable_post_import","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.8.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.8.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.9":{"name":"available_monthly_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.9.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.9.valueType":{"__typename":"VariantFlagString","value":"60e220181034"},"ROOT_QUERY.variantFlags.10":{"name":"available_annual_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.10.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.10.valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"},"ROOT_QUERY.variantFlags.11":{"name":"disable_ios_resume_reading_toast","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.11.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.11.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.12":{"name":"is_not_medium_subscriber","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.12.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.12.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.13":{"name":"glyph_font_set","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.13.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.13.valueType":{"__typename":"VariantFlagString","value":"m2"},"ROOT_QUERY.variantFlags.14":{"name":"enable_branding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.14.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.14.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.15":{"name":"enable_branding_fonts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.15.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.15.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.16":{"name":"enable_automated_mission_control_triggers","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.16.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.16.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.17":{"name":"enable_lite_profile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.17.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.17.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.18":{"name":"enable_marketing_emails","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.18.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.18.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.19":{"name":"enable_topic_lifecycle_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.19.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.19.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.20":{"name":"enable_parsely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.20.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.20.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.21":{"name":"enable_branch_io","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.21.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.21.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.22":{"name":"enable_ios_post_stats","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.22.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.22.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.23":{"name":"enable_lite_topics","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.23.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.23.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.24":{"name":"enable_lite_stories","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.24.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.24.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.25":{"name":"redis_read_write_splitting","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.25.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.25.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.26":{"name":"enable_tipalti_onboarding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.26.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.26.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.27":{"name":"enable_annual_renewal_reminder_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.27.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.27.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.28":{"name":"enable_janky_spam_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.28.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.28.valueType":{"__typename":"VariantFlagString","value":"users,posts"},"ROOT_QUERY.variantFlags.29":{"name":"enable_new_collaborative_filtering_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.29.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.29.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.30":{"name":"enable_google_one_tap","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.30.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.30.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.31":{"name":"enable_email_sign_in_captcha","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.31.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.31.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.32":{"name":"enable_primary_topic_for_mobile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.32.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.32.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.33":{"name":"enable_lite_post","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.33.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.33.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.34":{"name":"enable_logged_out_homepage_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.34.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.34.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.35":{"name":"use_new_admin_topic_backend","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.35.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.35.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.36":{"name":"enable_quarantine_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.36.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.36.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.37":{"name":"enable_patronus_on_kubernetes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.37.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.37.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.38":{"name":"pub_sidebar","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.38.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.38.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.39":{"name":"disable_mobile_featured_chunk","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.39.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.39.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.40":{"name":"enable_embedding_based_diversification","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.40.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.40.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.41":{"name":"enable_lite_pub_header_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.41.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.41.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.42":{"name":"enable_lite_claps","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.42.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.42.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.43":{"name":"enable_live_user_post_scoring","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.43.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.43.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.44":{"name":"enable_lite_post_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.44.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.44.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.45":{"name":"enable_lite_post_highlights_view_only","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.45.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.45.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.46":{"name":"enable_tick_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.46.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.46.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.47":{"name":"enable_lite_post_cd","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.47.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.47.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.48":{"name":"enable_lite_private_notes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.48.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.48.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.49":{"name":"enable_lite_private_notes_li_100","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.49.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.49.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.50":{"name":"enable_trumpland_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.50.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.50.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.51":{"name":"enable_lite_email_sign_in_flow","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.51.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.51.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.52":{"name":"enable_lite_paywall_alert","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.52.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.52.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.53":{"name":"enable_edit_alt_text","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.53.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.53.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.54":{"name":"enable_serve_recs_from_ml_rank_homepage","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.54.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.54.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.55":{"name":"enable_serve_recs_from_ml_rank_digest","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.55.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.55.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.56":{"name":"enable_serve_recs_from_ml_rank_app_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.56.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.56.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.57":{"name":"enable_lite_thanks_to","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.57.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.57.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.58":{"name":"enable_lite_google_captcha","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.58.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.58.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.59":{"name":"enable_lite_branch_io","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.59.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.59.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.60":{"name":"enable_lite_notifications","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.60.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.60.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.61":{"name":"enable_lite_audio_upsells","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.61.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.61.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.62":{"name":"enable_lite_verify_email_butter_bar","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.62.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.62.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.63":{"name":"remove_social_proof_on_digest","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.63.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.63.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.64":{"name":"enable_lite_unread_notification_count","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.64.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.64.valueType":{"__typename":"VariantFlagBoolean","value":true},"MeteringInfo:singleton":{"__typename":"MeteringInfo","postIds":{"type":"json","json":[]},"maxUnlockCount":3,"unlocksRemaining":3},"Post:b86b1f313436":{"__typename":"Post","creator":{"type":"id","generated":false,"id":"User:f656e85eb0f3","typename":"User"},"isLocked":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","id":"b86b1f313436","collection":{"type":"id","generated":false,"id":"Collection:5b301f10ddcd","typename":"Collection"},"sequence":null,"firstPublishedAt":1536796519825,"isPublished":true,"title":"Implementing JSON Web Tokens & Passport.js in a JavaScript Application with React","canonicalUrl":"","layerCake":0,"primaryTopic":null,"content({\"postMeteringOptions\":{}})":{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}})","typename":"PostContent"},"highlights":[],"latestPublishedVersion":"72bed16967b6","mediumUrl":"https:\u002F\u002Fitnext.io\u002Fimplementing-json-web-tokens-passport-js-in-a-javascript-application-with-react-b86b1f313436","readingTime":12.342452830188678,"statusForCollection":"APPROVED","visibility":"PUBLIC","allowResponses":true,"tags":[{"type":"id","generated":false,"id":"Tag:javascript","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:jwt","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:passport","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:web-development","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:security","typename":"Tag"}],"viewerClapCount":null,"readingList":"READING_LIST_NONE","clapCount":952,"voterCount":105,"recommenders":[],"pendingCollection":null,"responsesCount":14,"collaborators":[],"inResponseToPostResult":null,"inResponseToMediaResource":null,"curationEligibleAt":0,"audioVersionUrl":null,"socialTitle":"","socialDek":"","metaDescription":"","latestPublishedAt":1539468437408,"previewContent":{"type":"id","generated":true,"id":"$Post:b86b1f313436.previewContent","typename":"PreviewContent"},"previewImage":{"type":"id","generated":false,"id":"ImageMetadata:1*V33pOI8o-eADn-GDjPfnOA.png","typename":"ImageMetadata"},"updatedAt":1539468437823,"topics":[],"isSuspended":false},"User:f656e85eb0f3":{"id":"f656e85eb0f3","__typename":"User","isSuspended":false,"allowNotes":true,"name":"Paige Niedringhaus","isFollowing":false,"username":"paigen11","bio":"Digital marketer turned full-stack software engineer. JavaScript is my language of choice, but I enjoy learning new things in new languages.","imageId":"1*2In1UKOCadRTaeRRYNYXKg.jpeg","mediumMemberAt":0,"isBlocking":false,"isPartnerProgramEnrolled":false,"twitterScreenName":""},"Collection:5b301f10ddcd":{"id":"5b301f10ddcd","__typename":"Collection","slug":"itnext","domain":"itnext.io","googleAnalyticsId":"UA-29035124-5","colorBehavior":"ACCENT_COLOR_AND_FILL_BACKGROUND","name":"ITNEXT","logo":{"type":"id","generated":false,"id":"ImageMetadata:1*brBJMIxU4BNVrxYigrVEkQ.png","typename":"ImageMetadata"},"creator":{"type":"id","generated":false,"id":"User:5db23d2304f9","typename":"User"},"viewerCanManage":false,"avatar":{"type":"id","generated":false,"id":"ImageMetadata:1*yAqDFIFA5F_NXalOJKz4TA.png","typename":"ImageMetadata"},"isEnrolledInHightower":false,"navItems":[{"type":"id","generated":true,"id":"Collection:5b301f10ddcd.navItems.0","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:5b301f10ddcd.navItems.1","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:5b301f10ddcd.navItems.2","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:5b301f10ddcd.navItems.3","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:5b301f10ddcd.navItems.4","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:5b301f10ddcd.navItems.5","typename":"NavItem"}],"colorPalette":{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette","typename":"ColorPalette"},"viewerCanEditOwnPosts":false,"viewerCanEditPosts":false,"description":"ITNEXT is a platform for IT developers & software engineers to share knowledge, connect, collaborate, learn and experience next-gen technologies.","viewerIsFollowing":false,"viewerIsSubscribedToLetters":false,"mediumNewsletterId":"","isUserSubscribedToMediumNewsletter":false,"ampEnabled":false,"twitterUsername":"itnext_io","facebookPageId":null,"favicon":{"type":"id","generated":false,"id":"ImageMetadata:1*yAqDFIFA5F_NXalOJKz4TA.png","typename":"ImageMetadata"}},"ImageMetadata:1*brBJMIxU4BNVrxYigrVEkQ.png":{"id":"1*brBJMIxU4BNVrxYigrVEkQ.png","originalWidth":3159,"originalHeight":600,"__typename":"ImageMetadata"},"User:5db23d2304f9":{"id":"5db23d2304f9","__typename":"User"},"ImageMetadata:1*yAqDFIFA5F_NXalOJKz4TA.png":{"id":"1*yAqDFIFA5F_NXalOJKz4TA.png","__typename":"ImageMetadata"},"Collection:5b301f10ddcd.navItems.0":{"title":"About ITNEXT","url":"https:\u002F\u002Fitnext.io\u002Fabout-itnext-877f4197e8f6","type":"POST_NAV_ITEM","__typename":"NavItem"},"Collection:5b301f10ddcd.navItems.1":{"title":"Write for ITNEXT","url":"https:\u002F\u002Fitnext.io\u002Fwrite-for-itnext-4dea1fd3adf","type":"POST_NAV_ITEM","__typename":"NavItem"},"Collection:5b301f10ddcd.navItems.2":{"title":"Meetups","url":"https:\u002F\u002Fitnext.io\u002Fitnext-meetups-c28cd668e0bc","type":"POST_NAV_ITEM","__typename":"NavItem"},"Collection:5b301f10ddcd.navItems.3":{"title":"SUMMIT","url":"https:\u002F\u002Fitnext.io\u002Fitnextsummit-c21f4fabae34","type":"POST_NAV_ITEM","__typename":"NavItem"},"Collection:5b301f10ddcd.navItems.4":{"title":"Featured ","url":"https:\u002F\u002Fitnext.io\u002Fitnext-io-featuredthisweek\u002Fhome","type":"TOPIC_PAGE","__typename":"NavItem"},"Collection:5b301f10ddcd.navItems.5":{"title":"Vacancies @ LINKIT","url":"https:\u002F\u002Fcareers.linkit.nl","type":"EXTERNAL_LINK_NAV_ITEM","__typename":"NavItem"},"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum":{"backgroundColor":"#FF1A71B1","colorPoints":[{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.0","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.1","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.2","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.3","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.4","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.5","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.6","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.7","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.8","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.9","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.10","typename":"ColorPoint"}],"__typename":"ColorSpectrum"},"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.0":{"color":"#FF1A71B1","point":0,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.1":{"color":"#FF3E82BC","point":0.1,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.2":{"color":"#FF5892C7","point":0.2,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.3":{"color":"#FF6EA1D1","point":0.3,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.4":{"color":"#FF84B0DB","point":0.4,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.5":{"color":"#FF98BEE4","point":0.5,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.6":{"color":"#FFACCCED","point":0.6,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.7":{"color":"#FFBFDAF6","point":0.7,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.8":{"color":"#FFD1E7FE","point":0.8,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.9":{"color":"#FFE4F4FF","point":0.9,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum.colorPoints.10":{"color":"#FFF6FFFF","point":1,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette":{"tintBackgroundSpectrum":{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.tintBackgroundSpectrum","typename":"ColorSpectrum"},"__typename":"ColorPalette","defaultBackgroundSpectrum":{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum","typename":"ColorSpectrum"},"highlightSpectrum":{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum","typename":"ColorSpectrum"}},"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum":{"backgroundColor":"#FFFFFFFF","colorPoints":[{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.0","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.1","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.2","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.3","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.4","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.5","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.6","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.7","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.8","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.9","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.10","typename":"ColorPoint"}],"__typename":"ColorSpectrum"},"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.0":{"color":"#FF3F8DCE","point":0,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.1":{"color":"#FF3F83BD","point":0.1,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.2":{"color":"#FF3D79AD","point":0.2,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.3":{"color":"#FF3B6E9C","point":0.3,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.4":{"color":"#FF38648B","point":0.4,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.5":{"color":"#FF34597A","point":0.5,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.6":{"color":"#FF2F4E6A","point":0.6,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.7":{"color":"#FF2A4259","point":0.7,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.8":{"color":"#FF233648","point":0.8,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.9":{"color":"#FF1B2937","point":0.9,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.defaultBackgroundSpectrum.colorPoints.10":{"color":"#FF121B25","point":1,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum":{"backgroundColor":"#FFFFFFFF","colorPoints":[{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.0","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.1","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.2","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.3","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.4","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.5","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.6","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.7","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.8","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.9","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.10","typename":"ColorPoint"}],"__typename":"ColorSpectrum"},"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.0":{"color":"#FFE6F5FF","point":0,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.1":{"color":"#FFE2F4FF","point":0.1,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.2":{"color":"#FFDDF2FF","point":0.2,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.3":{"color":"#FFD8F1FF","point":0.3,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.4":{"color":"#FFD3F0FF","point":0.4,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.5":{"color":"#FFCDEFFF","point":0.5,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.6":{"color":"#FFC8EDFF","point":0.6,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.7":{"color":"#FFC3ECFF","point":0.7,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.8":{"color":"#FFBDEBFF","point":0.8,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.9":{"color":"#FFB7E9FF","point":0.9,"__typename":"ColorPoint"},"$Collection:5b301f10ddcd.colorPalette.highlightSpectrum.colorPoints.10":{"color":"#FFB1E8FF","point":1,"__typename":"ColorPoint"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}})":{"isLockedPreviewOnly":false,"__typename":"PostContent","bodyModel":{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel","typename":"RichText"}},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.sections.0":{"name":"b76a","startIndex":0,"textLayout":"FLOW","imageLayout":"NONE","backgroundImage":null,"videoLayout":"NO_VIDEO","backgroundVideo":null,"__typename":"Section"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.sections.1":{"name":"55d4","startIndex":96,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel":{"sections":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.sections.0","typename":"Section"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.sections.1","typename":"Section"}],"paragraphs":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.0","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.1","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.2","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.3","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.4","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.5","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.6","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.7","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.8","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.9","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.10","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.11","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.12","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.13","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.14","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.15","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.16","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.17","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.18","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.19","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.20","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.21","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.22","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.23","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.24","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.25","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.26","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.27","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.28","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.29","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.30","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.31","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.32","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.33","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.35","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.36","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.37","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.38","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.39","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.40","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.41","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.42","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.43","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.44","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.45","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.46","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.47","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.48","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.49","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.50","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.51","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.52","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.53","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.54","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.55","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.56","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.57","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.58","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.59","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.60","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.61","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.62","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.63","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.64","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.65","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.66","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.67","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.68","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.69","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.70","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.71","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.72","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.73","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.74","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.75","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.76","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.77","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.78","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.79","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.80","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.81","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.82","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.83","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.84","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.85","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.86","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.87","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.88","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.89","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.90","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.91","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.92","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.93","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.94","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.95","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.96","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.97","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.98","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.99","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.100","typename":"Paragraph"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.101","typename":"Paragraph"}],"__typename":"RichText"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.0":{"name":"5424","__typename":"Paragraph","type":"H3","href":null,"layout":null,"metadata":null,"text":"Implementing JSON Web Tokens & Passport.js in a JavaScript Application with React","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.1":{"name":"0b03","__typename":"Paragraph","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*V33pOI8o-eADn-GDjPfnOA.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*V33pOI8o-eADn-GDjPfnOA.png":{"id":"1*V33pOI8o-eADn-GDjPfnOA.png","originalHeight":318,"originalWidth":1948,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.2":{"name":"15f7","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Before you say it, I know, I know. There’s already a literal ton of MERN tutorials out there showing how to use JWT (JSON Web Tokens) and Passport.js with Express.","hasDropCap":true,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.3":{"name":"37a1","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"But here’s what every one of those tutorials failed to mention, and what mine will cover:","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.4":{"name":"1596","__typename":"Paragraph","type":"PQ","href":null,"layout":null,"metadata":null,"text":"HOW and WHY to use the various authentication flavors Passport offers (including passport-jwt), and the gotchas that tripped me up","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.4.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.4.markups.0":{"type":"CODE","start":81,"end":93,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.5":{"name":"53de","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"for hours on end as I put together a user registration application.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.6":{"name":"faec","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"I don’t know what your experience has been, but the majority of the projects I’ve worked on professionally have come with authorization already prebuilt by someone else. So in addition to improving my MERN skills, I viewed this as an opportunity to learn more about security and authentication and different ways to do it.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.7":{"name":"00b5","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"This post will mainly cover how to implement of Passport and JWT on the server side, because that’s where most of the magic happens, but if you want, you can see the source files and download the full MERN project here. Once it’s correctly hooked up on the backend, the front end is purely React.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.7.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.7.markups.0":{"type":"A","start":214,"end":218,"href":"https:\u002F\u002Fgithub.com\u002Fpaigen11\u002Fmysql-registration-passport","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.8":{"name":"cb15","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Before I jump into all that though, let me give you a quick run down of JWT and Passport.js authentication.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.9":{"name":"e1de","__typename":"Paragraph","type":"H4","href":null,"layout":null,"metadata":null,"text":"What is a JSON Web Token?","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.10":{"name":"6214","__typename":"Paragraph","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*XkmnsJ6Joa6EDFVGUw0tfA.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*XkmnsJ6Joa6EDFVGUw0tfA.png":{"id":"1*XkmnsJ6Joa6EDFVGUw0tfA.png","originalHeight":231,"originalWidth":788,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.11":{"name":"1162","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"A JSON Web Token, according to the site is:","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.12":{"name":"3a4f","__typename":"Paragraph","type":"BQ","href":null,"layout":null,"metadata":null,"text":"“…an open standard (RFC 7519) that defines a compact and self-contained way for securely transmitting information between parties as a JSON object.” — JWT.io","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.12.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.12.markups.0":{"type":"A","start":20,"end":28,"href":"https:\u002F\u002Ftools.ietf.org\u002Fhtml\u002Frfc7519","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.13":{"name":"0210","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Essentially, JWTs are digitally signed tokens that can be verified and trusted, and they’re becoming more and more popular for security and authorization between parties (like servers and clients) and for exchanging sensitive information, while verifying the token hasn’t been tampered with or decoded.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.14":{"name":"1427","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"I won’t go into the details of how the tokens work, you can read all about that from a much more qualified source than I here, but suffice it to say, I chose to use JWT as part of my user verification strategy along with Passport.js to make my simple user registration application secure (and because I was curious to see if I could do it, since I didn’t have a whole lot of hands on experience implementing authorization).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.14.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.14.markups.0":{"type":"A","start":121,"end":125,"href":"https:\u002F\u002Fjwt.io\u002Fintroduction\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.15":{"name":"c678","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"With that covered, the next piece of my authentication solution is Passport.js.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.16":{"name":"5b2c","__typename":"Paragraph","type":"H4","href":null,"layout":null,"metadata":null,"text":"What is Passport.js & Why Should I Use it?","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.17":{"name":"cc4a","__typename":"Paragraph","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*YI1tt4kGzvea-v4dAhZ90w.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*YI1tt4kGzvea-v4dAhZ90w.png":{"id":"1*YI1tt4kGzvea-v4dAhZ90w.png","originalHeight":200,"originalWidth":200,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.18":{"name":"3154","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Passport is:","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.19":{"name":"3737","__typename":"Paragraph","type":"BQ","href":null,"layout":null,"metadata":null,"text":"Simple, unobtrusive authentication for Node.js — Passport.js","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.20":{"name":"a331","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"and it works exceedingly well with Express. Passport is authentication middleware for Node, which serves one purpose, to authenticate requests, in a modular way that leaves all other functionality to the application itself, making code cleaner, easier to maintain and provides a clear separation of concerns.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.21":{"name":"7486","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"If you type the term ‘JavaScript authentication middleware’ or even just ‘JavaScript authentication’ into the Google search bar, Passport.js ranks within the top 5 search results. That’s how ubiquitous this solution is in the JavaScript ecosystem.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.22":{"name":"2cd7","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Did I mention it boasts more than 500+ authentication strategies? It does. Whether you wish to log in with a simple username and password, with Github credentials, Facebook, oAuth, etc., there’s probably a Passport.js strategy for it.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.23":{"name":"291c","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"So it was a simple decision to choose Passport as part of my authorization strategy.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.24":{"name":"a67b","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"I’d like to add documentation on the site is pretty good, though some things like custom callbacks require much more careful reading (and trial and error, for me) to correctly set up. But I’m getting ahead of myself, I’ll cover the gotchas in implementation.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.24.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.24.markups.0":{"type":"A","start":82,"end":98,"href":"http:\u002F\u002Fwww.passportjs.org\u002Fdocs\u002Fauthorize\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.25":{"name":"dad0","__typename":"Paragraph","type":"H4","href":null,"layout":null,"metadata":null,"text":"How Do I Implement Them in Express.js (and a little React)?","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.26":{"name":"a88b","__typename":"Paragraph","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*j8DELPVuI_w8045sxmHQsA.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*j8DELPVuI_w8045sxmHQsA.png":{"id":"1*j8DELPVuI_w8045sxmHQsA.png","originalHeight":272,"originalWidth":701,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.27":{"name":"e0a6","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Now on to the fun part, how do you implement both Passport.js and JWT into an Express\u002FNode application? To be honest, it stumped me for a good while. But after numerous tutorials, re-readings of documentation and turning to Stack Overflow for help, I got to a place of understanding and satisfaction.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.28":{"name":"02fd","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"I should say, one of my goals for this app was to make it modular, make it super simple to add or remove functionality, so when you see my file structure, you’ll notice all the routes for the CRUD functionality (create, read, update, delete) are built into separate files, and all the Passport authentication is handled in one, centralized file as well. Here’s a look at the file structure of the API portion of my app.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.29":{"name":"b5e1","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The API File Tree","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.29.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.29.markups.0":{"type":"STRONG","start":0,"end":17,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.30":{"name":"10fb","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"root\u002F\n├── api\u002F \n| ├── config \n| | ├── passport.js \n| | ├── jwtConfig.js\n| ├── server.js \n| ├── sequelize.js \n| ├── package.json\n| ├── models\u002F \n| | ├── user.js\n| ├── routes\u002F \n| | ├── deleteUser.js \n| | ├── findUsers.js \n| | ├── loginUser.js \n| | ├── registerUser.js\n| | ├── updateUser.js\n| ├── node-modules\u002F","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.31":{"name":"e9a2","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The package.json File","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.31.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.31.markups.1","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.31.markups.0":{"type":"CODE","start":4,"end":16,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.31.markups.1":{"type":"STRONG","start":0,"end":21,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.32":{"name":"9310","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"And here is the package.json and its dependencies so you can see exactly what I’m using.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.32.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.32.markups.0":{"type":"CODE","start":16,"end":28,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.33":{"name":"80b3","__typename":"Paragraph","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*wYBYS2t3idM94iJdXipLnQ.png","typename":"ImageMetadata"},"text":"Nothing super fancy here: just jsonwebtoken, passport, passport-local and passport-jwt.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*wYBYS2t3idM94iJdXipLnQ.png":{"id":"1*wYBYS2t3idM94iJdXipLnQ.png","originalHeight":1536,"originalWidth":1296,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34":{"name":"31b6","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The dependencies include a few extras like babel so I can use ES6 syntax in my Node.js app, bcrypt for password hashing and sequelize as my MySQL ORM, but the things you need to focus on are jsonwebtoken, passport, passport-local and passport-jwt. These are the necessities for this blog.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34.markups.6","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34.markups.0":{"type":"CODE","start":43,"end":48,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34.markups.1":{"type":"CODE","start":92,"end":98,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34.markups.2":{"type":"CODE","start":124,"end":133,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34.markups.3":{"type":"CODE","start":191,"end":203,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34.markups.4":{"type":"CODE","start":205,"end":213,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34.markups.5":{"type":"CODE","start":215,"end":229,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.34.markups.6":{"type":"CODE","start":234,"end":246,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.35":{"name":"599a","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The server.js File","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.35.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.35.markups.1","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.35.markups.0":{"type":"CODE","start":4,"end":13,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.35.markups.1":{"type":"STRONG","start":0,"end":18,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.36":{"name":"fcc7","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"I’ll start with the server.js file first, as it requires the least explanation. This file is purely for starting the server, initializing the use of Passport in the app and setting up the routes and parsing of requests from the client side.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.36.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.36.markups.0":{"type":"CODE","start":20,"end":29,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.37":{"name":"4429","__typename":"Paragraph","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*O7eM5lUDe_Kj_V9morUVeQ.png","typename":"ImageMetadata"},"text":"A little ES6 in the imports and consts, but what you should focus on is the passport.initialize() and the routes.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*O7eM5lUDe_Kj_V9morUVeQ.png":{"id":"1*O7eM5lUDe_Kj_V9morUVeQ.png","originalHeight":1104,"originalWidth":1296,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.38":{"name":"ba52","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Pretty straightforward right? Great. Moving on.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.39":{"name":"b705","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"You might also have noticed the require('.\u002Fconfig\u002Fpassport');, this is the next step I’ll go over. The JWT and Passport configuration, inside of the folder named config.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.39.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.39.markups.1","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.39.markups.0":{"type":"CODE","start":32,"end":61,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.39.markups.1":{"type":"CODE","start":162,"end":168,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.40":{"name":"b57b","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The jwtConfig.js File","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.40.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.40.markups.1","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.40.markups.0":{"type":"CODE","start":4,"end":16,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.40.markups.1":{"type":"STRONG","start":0,"end":21,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.41":{"name":"3f72","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The JWT config is very simple, it’s the secret required by JWT to encode and decode the tokens. Typically, this would be stored as an environmental variable in a file that’s not checked in to Github, but to show how this works, I’ve set it in here.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.42":{"name":"e78e","__typename":"Paragraph","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*OI4PyET0eLINN6Bkg0qy_w.png","typename":"ImageMetadata"},"text":"This is the jwtConfig.js file in the config folder.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*OI4PyET0eLINN6Bkg0qy_w.png":{"id":"1*OI4PyET0eLINN6Bkg0qy_w.png","originalHeight":276,"originalWidth":1098,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.43":{"name":"c300","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The passport.js File","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.43.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.43.markups.1","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.43.markups.0":{"type":"CODE","start":4,"end":15,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.43.markups.1":{"type":"STRONG","start":0,"end":20,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.44":{"name":"428c","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The real setup for all my Passport authentication comes in the passport.js file. Here it is.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.44.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.44.markups.0":{"type":"CODE","start":63,"end":74,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.45":{"name":"c34b","__typename":"Paragraph","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*s3Q76dUmGqO2imEYEKqrnQ.png","typename":"ImageMetadata"},"text":"Yes, all this is part of the passport.js file.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*s3Q76dUmGqO2imEYEKqrnQ.png":{"id":"1*s3Q76dUmGqO2imEYEKqrnQ.png","originalHeight":4056,"originalWidth":1816,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.46":{"name":"139a","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"I realize this is a lot of code to take in. If you’d like to see just the code for Passport and the routes with Passport authentication, I created a few gists here with the code.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.46.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.46.markups.0":{"type":"A","start":159,"end":163,"href":"https:\u002F\u002Fgist.github.com\u002Fpaigen11\u002Fc72c8c20da9cd440f45025a1b05e5e58","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.47":{"name":"12cf","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"I’ll walk through the two types of Passport implementation happening here: passport-local for the register and login methods and passport-jwt for the jwt method.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.47.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.47.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.47.markups.2","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.47.markups.0":{"type":"CODE","start":98,"end":106,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.47.markups.1":{"type":"CODE","start":111,"end":116,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.47.markups.2":{"type":"CODE","start":150,"end":153,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.48":{"name":"0725","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Passport-local uses a username and password, and passport-jwt uses a JWT payload to verify the user is legit.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.49":{"name":"4826","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Like I said earlier, the documentation for both using just Express.js is fairly good, but the trick comes in combining it with the MySQL database and the information passed from the React client on the front end.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.50":{"name":"ef59","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Once the passport-local strategy has been passed a username and password (which I verify that both inputs are at least filled before ever calling back to the server), the first check I do is with Sequelize, my SQL ORM (like Mongoose for MongoDB), to determine if that username exists in the database. If it returns null, the authentication fails (no user in the db matches), and typically, a 401 Unauthorized would be thrown back from the server to the client with no further information.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.50.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.50.markups.1","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.50.markups.0":{"type":"CODE","start":315,"end":319,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.50.markups.1":{"type":"CODE","start":392,"end":408,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.51":{"name":"2a66","__typename":"Paragraph","type":"H4","href":null,"layout":null,"metadata":null,"text":"Passport Gotcha #1: Info in Error Handling","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.52":{"name":"b98a","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"This type of error handling, to me, was the most frustrating thing about Passport. The lack of information to let a user (or myself) know what the actual error was beyond 401 Unathorized.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.52.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.52.markups.0":{"type":"CODE","start":171,"end":186,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.53":{"name":"9fc1","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"But there’s a better solution that requires a little extra work, with custom callbacks. I’ll go into more detail about the callback soon, but for now, you can see if there’s some sort of error, instead of returning a return done(null, user);, passport can pass back return done(null, false, { message: 'bad username or passwords don't match' });. This message can then be passed back from the server to the client, actually telling the user what the problem is (which is what I wanted for this app). If you prefer just to tell the user their authentication failed, but not disclose why, that’s cool too. Your choice, but I want to show how error messaging can be done.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.53.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.53.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.53.markups.2","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.53.markups.0":{"type":"CODE","start":217,"end":241,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.53.markups.1":{"type":"CODE","start":266,"end":345,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.53.markups.2":{"type":"STRONG","start":70,"end":86,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.54":{"name":"6bcc","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The rest of the passport-local strategy is pretty self-explanatory, on register the user’s password is hashed and salted with the encryption package bcrypt, and then when the login method is invoked, it hashes the newly entered password and checks the passwords with bcrypt’s compare function before returning either a positive or negative on the verification.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.54.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.54.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.54.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.54.markups.3","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.54.markups.0":{"type":"CODE","start":71,"end":79,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.54.markups.1":{"type":"CODE","start":149,"end":155,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.54.markups.2":{"type":"CODE","start":175,"end":180,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.54.markups.3":{"type":"CODE","start":276,"end":283,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.55":{"name":"27fc","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Now, that brings me to the passport-jwt strategy, which is named jwt. This is the authentication that’s called on the protected routes in the application: findUsers, updateUser, deleteUser. For the jwt strategy, the JWT is passed back from the client with each call to the server (I passed mine in an authorization header with the key: JWT), which is extracted and then decoded using the secret (which is stored in another file, but should really be an environment variable known only to the system).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.55.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.55.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.55.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.55.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.55.markups.4","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.55.markups.0":{"type":"CODE","start":65,"end":68,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.55.markups.1":{"type":"CODE","start":155,"end":164,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.55.markups.2":{"type":"CODE","start":166,"end":176,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.55.markups.3":{"type":"CODE","start":178,"end":188,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.55.markups.4":{"type":"CODE","start":336,"end":339,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.56":{"name":"823b","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Once the JWT payload is decrypted, the ID (which for me is the username) can be searched for in the database just like the passport-local strategy does, and either returned with done(null, user);, if the user is found or with done(null, false); if it’s not (which should almost never happen because the JWT includes the username in its encrypted form, so unless that’s somehow been tampered with or the db has been, it should be able to find the user).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.56.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.56.markups.1","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.56.markups.0":{"type":"CODE","start":178,"end":195,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.56.markups.1":{"type":"CODE","start":226,"end":244,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.57":{"name":"4401","__typename":"Paragraph","type":"H4","href":null,"layout":null,"metadata":null,"text":"Passport Gotcha #2: Passport-Local Wants Return, Passport-JWT Does Not","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.58":{"name":"ee3b","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"This brings me to my second gotcha which tripped me up for a good bit of time; not all passport strategies require the same resolution. If you’re looking closely, you’ll see the passport-local strategies both have return done(null, user); but the passport-jwt strategy has done(null, user);. See the difference? It’s minuscule, but having (or removing that return), is the difference between that user data being passed back from the middleware to the server or not.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.58.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.58.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.58.markups.2","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.58.markups.0":{"type":"CODE","start":214,"end":238,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.58.markups.1":{"type":"CODE","start":273,"end":290,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.58.markups.2":{"type":"CODE","start":357,"end":363,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.59":{"name":"4560","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"And it halted my progress for a good few hours, before the kindness of Stack Overflow helped me work through the issue (it’s the first time I’ve actually had to ask SO for an answer I couldn’t find already, but it was well worth it). So be aware of when to return or not.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.59.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.59.markups.0":{"type":"CODE","start":257,"end":263,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.60":{"name":"b30c","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Ok, so I’ve walked through the two Passport strategies and the three methods I’m using for middleware authentication in my program, now on to after the authentication on the server.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.61":{"name":"cedd","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The registerUser.js File","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.61.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.61.markups.1","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.61.markups.0":{"type":"CODE","start":4,"end":19,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.61.markups.1":{"type":"STRONG","start":0,"end":24,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.62":{"name":"b8b3","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The next step is how to implement these newly minted methods inside of the various routes. Here’s the registerUser route.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.62.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.62.markups.0":{"type":"CODE","start":102,"end":114,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.63":{"name":"7093","__typename":"Paragraph","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*L-wqLmoF6GCZyx5crZX5zQ.png","typename":"ImageMetadata"},"text":"Notice the closure style invocation of this route — that’s what makes messages from the authentication layer to the server and client possible.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*L-wqLmoF6GCZyx5crZX5zQ.png":{"id":"1*L-wqLmoF6GCZyx5crZX5zQ.png","originalHeight":1680,"originalWidth":1248,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.64":{"name":"9536","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"As you can see, this implementation of passport looks a little different than most examples out there, and it’s because I’m using the custom callback version of Passport, which requires a closure call. I’m using this so that the error message that’s passed back if Passport’s authentication fails can be sent from the server to the client instead of the obscure 401 Unauthorized.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.64.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.64.markups.0":{"type":"CODE","start":362,"end":378,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.65":{"name":"98c9","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Because this is being implemented as a callback (which is why you see (req, res, next) not once, but twice in these scripts; it gives me access to the (err, user, info) from the Passport middleware. The info is what I’m interested in — that’s the message being sent back, so if the info is anything besides null, that means the authentication failed and I can then send the message to the client to let them know why.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.65.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.65.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.65.markups.2","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.65.markups.0":{"type":"CODE","start":70,"end":86,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.65.markups.1":{"type":"CODE","start":151,"end":168,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.65.markups.2":{"type":"CODE","start":203,"end":207,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.66":{"name":"bf86","__typename":"Paragraph","type":"H4","href":null,"layout":null,"metadata":null,"text":"Passport Gotcha #3: Don’t Forget `req.logIn()` In Your Custom Callback","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.67":{"name":"366c","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Now, I’m to the third Passport gotcha, in order to make the closures and custom callbacks work with passport-local, the little method req.logIn() must be called before the user data is handled if it comes back successfully from the middleware.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.67.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.67.markups.1","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.67.markups.0":{"type":"CODE","start":134,"end":145,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.67.markups.1":{"type":"CODE","start":172,"end":176,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.68":{"name":"9018","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"This is documented in the Passport documentation, but it’s importance is not stressed as much as I would like (and I missed it the first few times trying to get custom callbacks to work), which is why I highlight it now.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.69":{"name":"3083","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"It must happen, and once that’s done, I’m able to take the extra inputs from the client side for registering a user, find that same user created in the database during the passport-local register call, and update the user file with the extra info. I could have passed this extra data through to the middleware as well, but I want Passport to only handle authentication, not user creation as well. Modularization, remember.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.69.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.69.markups.0":{"type":"CODE","start":187,"end":195,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.70":{"name":"8fa0","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Plus, if the authentication were to be split out into a separate service with a separate database of just encrypted usernames and passwords, this would make it easier to do so, then use the username or ID to find and update the corresponding user record in this registration service.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.71":{"name":"af11","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Once all that’s been successfully taken care of, a 200 HTTP status and success message are sent back to the client.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.72":{"name":"86b5","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The loginUser.js File","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.72.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.72.markups.0":{"type":"CODE","start":4,"end":16,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.73":{"name":"4c08","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Seeing the loginUser route now should make more sense.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.73.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.73.markups.0":{"type":"CODE","start":11,"end":20,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.74":{"name":"7c63","__typename":"Paragraph","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*7utL18UTRZaiGvarkduxHg.png","typename":"ImageMetadata"},"text":"Same style of closure for the login route.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*7utL18UTRZaiGvarkduxHg.png":{"id":"1*7utL18UTRZaiGvarkduxHg.png","originalHeight":1392,"originalWidth":1440,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.75":{"name":"1bfd","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The same style of custom callbacks and closures are used, the biggest difference is that once the user is successfully verified and located in the database, the JWT token is generated using the jwt.sign(); function, which sets the username as the ID passed in the JWT, and encrypted by the secret I set earlier.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.75.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.75.markups.0":{"type":"CODE","start":194,"end":205,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.76":{"name":"69dc","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Once again, if all this works successfully, a 200 HTTP status is sent with a boolean I named auth set to true for the client side, the newly generated token and a short login success message.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.76.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.76.markups.0":{"type":"CODE","start":93,"end":97,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.77":{"name":"81a8","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The findUsers.js File","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.77.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.77.markups.1","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.77.markups.0":{"type":"CODE","start":4,"end":16,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.77.markups.1":{"type":"STRONG","start":0,"end":21,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.78":{"name":"55f9","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"And last, but not least, here’s the findUsers route. I used the same passport-jwt authentication for the updateUser and deleteUser routes, so I’ll just show this one as an example.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.78.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.78.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.78.markups.2","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.78.markups.0":{"type":"CODE","start":36,"end":45,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.78.markups.1":{"type":"CODE","start":105,"end":115,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.78.markups.2":{"type":"CODE","start":120,"end":130,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.79":{"name":"ae1c","__typename":"Paragraph","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*gKk1wRN5jefrgl5xxcs2nQ.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*gKk1wRN5jefrgl5xxcs2nQ.png":{"id":"1*gKk1wRN5jefrgl5xxcs2nQ.png","originalHeight":1104,"originalWidth":1440,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.80":{"name":"b458","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"I used custom callbacks for all my Passport authenticated routes (I appreciate good, clear error handling), so this code style should look routine by now.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.81":{"name":"0e84","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"This time, when passport.authenticate() is called, I implement the JWT strategy defined in the passport.js file. The same (err, user, info) gets passed back from the middleware, but there’s no call from req.logIn() this time. Instead, I just return the user object found during the authentication and pass all the required fields to the client along with the auth boolean and success message. The JWT token is still stored in local storage on the client side so there’s no need to regenerate or pass it to the client again as well. Which brings me to my final passport gotcha.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.81.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.81.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.81.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.81.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.81.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.81.markups.5","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.81.markups.0":{"type":"CODE","start":16,"end":39,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.81.markups.1":{"type":"CODE","start":95,"end":106,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.81.markups.2":{"type":"CODE","start":122,"end":139,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.81.markups.3":{"type":"CODE","start":203,"end":214,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.81.markups.4":{"type":"CODE","start":253,"end":257,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.81.markups.5":{"type":"CODE","start":359,"end":363,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.82":{"name":"39ae","__typename":"Paragraph","type":"H4","href":null,"layout":null,"metadata":null,"text":"Passport Gotcha #4: Passing Authorization Headers Correctly","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.83":{"name":"9204","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"This one’s not exactly a Passport-specific gotcha, but it is yet another thing that tripped me up.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.84":{"name":"f600","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"As I said, I pieced together my (now much more whole) understanding of JWT and Passport from a bunch of other tutorials and documentation, and one of those tutorials led me astray. It had me passing the JWT back to the client in something besides true authorization headers, which is the way that I chose to have my passport-jwt strategy extract the JWT payload from the client request. For this reason, I wanted to touch briefly on one piece of the front end code, where I pass back the token in the proper format, so you don’t have to waste the time debugging like I did.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.85":{"name":"b0a2","__typename":"Paragraph","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*Tjg-XaIFVhZEZCxEixNPRQ.png","typename":"ImageMetadata"},"text":"The client side call that loads user data after passing back the JWT stored in the user’s local storage.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*Tjg-XaIFVhZEZCxEixNPRQ.png":{"id":"1*Tjg-XaIFVhZEZCxEixNPRQ.png","originalHeight":1248,"originalWidth":1274,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.86":{"name":"aa37","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"I’m using the popular promise-based HTTP client Axios to make my server calls, but what you really need to notice is the headers section. Before the call to the server happens, I extract the JWT from local storage using localStorage.getItem('JWT') (the key I set with the JWT value when I passed the token forward from the loginUser() route on the server side), and then I set it using headers: { Authorization: `JWT ${accessString}` } and a little ES6 string interpolation. That way, if my authorization headers had more than one value to parse out, it would still be easy for passport-jwt to extract the correct JWT payload info by finding the string associated with ‘JWT’.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.86.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.86.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.86.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.86.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.86.markups.4","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.86.markups.0":{"type":"CODE","start":121,"end":128,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.86.markups.1":{"type":"CODE","start":220,"end":247,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.86.markups.2":{"type":"CODE","start":323,"end":334,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.86.markups.3":{"type":"CODE","start":386,"end":435,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.86.markups.4":{"type":"A","start":48,"end":53,"href":"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Faxios","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.87":{"name":"8f02","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"And that’s it, I just wanted to cover it because it blocked me for a while and only through API testing with Insomnia, could I confirm my JWT token was actually working, and suss out that I was passing authorization headers from the client side incorrectly.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.88":{"name":"1d6a","__typename":"Paragraph","type":"H4","href":null,"layout":null,"metadata":null,"text":"Conclusion","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.89":{"name":"2b06","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"I know I wrote a lot (and provided a bunch of code snippets and gists), but authentication is not a simple concept. Nor is it truly possible to really make an app so secure no one will ever be able to hack it. But if you take precautions like JWT and Passport.js authentication middleware, your Node.js app should have a better chance to withstand people with malicious intent.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.90":{"name":"e358","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Just be sure to look out for the gotchas I highlighted around Passport — and you’ll be on your way to a more secure site.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.91":{"name":"09f4","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Thanks for reading, I hope this proves helpful and gives you a better understanding of implementing Passport authentication and using JSON web tokens. Claps and shares are very much appreciated!","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.92":{"name":"043f","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"If you enjoyed reading this, you may also enjoy some of my other blogs:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.92.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.92.markups.0":{"type":"STRONG","start":0,"end":71,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.93":{"name":"d6b9","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Postman vs. Insomnia: Comparing the API Testing Tools","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.93.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.93.markups.0":{"type":"A","start":0,"end":53,"href":"https:\u002F\u002Fmedium.com\u002F@paigen11\u002Fpostman-vs-insomnia-comparing-the-api-testing-tools-4f12099275c1","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.94":{"name":"0216","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Using Docker & Docker Compose To Improve Your Full Stack Application Development","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.94.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.94.markups.0":{"type":"A","start":0,"end":80,"href":"https:\u002F\u002Fmedium.com\u002F@paigen11\u002Fusing-docker-docker-compose-to-improve-your-full-stack-application-development-1e41280748f4","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.95":{"name":"1b5a","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Sequelize: The ORM For SQL Databases with NodeJS","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.95.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.95.markups.0":{"type":"A","start":0,"end":48,"href":"https:\u002F\u002Fmedium.com\u002F@paigen11\u002Fsequelize-the-orm-for-sql-databases-with-nodejs-daa7c6d5aca3","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.96":{"name":"8702","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"References and Further Resources:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.96.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.96.markups.0":{"type":"STRONG","start":0,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.97":{"name":"ce08","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Passport.js: http:\u002F\u002Fwww.passportjs.org\u002F","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.97.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.97.markups.0":{"type":"A","start":13,"end":39,"href":"http:\u002F\u002Fwww.passportjs.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.98":{"name":"ec32","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"JSON Web Tokens: https:\u002F\u002Fjwt.io\u002F","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.98.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.98.markups.0":{"type":"A","start":17,"end":32,"href":"https:\u002F\u002Fjwt.io\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.99":{"name":"0336","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"MERN App with Passport & JWT Repo: https:\u002F\u002Fgithub.com\u002Fpaigen11\u002Fmysql-registration-passport","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.99.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.99.markups.0":{"type":"A","start":35,"end":90,"href":"https:\u002F\u002Fgithub.com\u002Fpaigen11\u002Fmysql-registration-passport","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.100":{"name":"1644","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Gists of Passport implementation with routes: https:\u002F\u002Fgist.github.com\u002Fpaigen11\u002Fc72c8c20da9cd440f45025a1b05e5e58","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.100.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.100.markups.0":{"type":"A","start":46,"end":111,"href":"https:\u002F\u002Fgist.github.com\u002Fpaigen11\u002Fc72c8c20da9cd440f45025a1b05e5e58","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.101":{"name":"9dd0","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Axios: https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Faxios","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.101.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"$Post:b86b1f313436.content({\"postMeteringOptions\":{}}).bodyModel.paragraphs.101.markups.0":{"type":"A","start":7,"end":42,"href":"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Faxios","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Tag:javascript":{"id":"javascript","displayTitle":"JavaScript","__typename":"Tag"},"Tag:jwt":{"id":"jwt","displayTitle":"Jwt","__typename":"Tag"},"Tag:passport":{"id":"passport","displayTitle":"Passport","__typename":"Tag"},"Tag:web-development":{"id":"web-development","displayTitle":"Web Development","__typename":"Tag"},"Tag:security":{"id":"security","displayTitle":"Security","__typename":"Tag"},"$Post:b86b1f313436.previewContent":{"subtitle":"Before you say it, I know, I know. There’s already a literal ton of MERN tutorials out there showing how to use JWT (JSON Web Tokens) and…","__typename":"PreviewContent"}}</script><script src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/manifest.121335fc.js.download"></script><script src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/vendors_main.85c53847.chunk.js.download"></script><script src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/main.04b4dd43.chunk.js.download"></script><script src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/vendors_screen.landingpages.trumpland_screen.post_screen.post.amp_screen.post.series_screen.profile__b319665e.f2be28a6.chunk.js.download"></script>
<script src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/screen.post_screen.post.amp_screen.post.series_screen.profile_screen.sequence.library_screen.sequenc_036c6b37.305df0fe.chunk.js.download"></script>
<script src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/screen.landingpages.trumpland_screen.post_screen.post.amp_screen.post.series_screen.profile_screen.s_5e114ebe.69db5a80.chunk.js.download"></script>
<script src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/screen.post_screen.post.amp_screen.sequence.post.9d72208f.chunk.js.download"></script>
<script src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/screen.post.fbe8c836.chunk.js.download"></script><script>window.main();</script><script src="./ImplementingJSONWebTokens&amp;Passport.jsinaJavaScriptApplicationwithReact_files/p.js.download" async="" id="parsely-cf"></script></body></html>